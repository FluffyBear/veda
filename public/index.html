<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>Veda</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description" content=""/>
		<meta name="author" content=""/>
		<link href="/css/veda.min.css" rel="stylesheet"/>
		<meta http-equiv="pragma" content="no-cache" />
		<meta http-equiv="cache-control" content="no-cache" />
	</head>
	<body style="padding: 0px 0px 30px;">

		<nav role="navigation" class="navbar navbar-inverse" id="navigation">
			<div class="container-fluid" id="nav-container">
				<a href="#/" class="navbar-brand"><img src="/img/veda-logo.png" style="position:relative; top:-3px"/></a>
				<ul class="nav navbar-nav navbar-left">
					<li>
						<a href="#/document/mondi-data:">Документ / Document</a>
					</li>
					<li>	
						<a href="#/console">Консоль / Console</a>
					</li>
					<li>	
							<a href="#/search">Search</a>
					</li>
					<li>
						<a href="/view_classes/">Классы / Classes</a>
					</li>
					<li>
						<a href="/search/">Поиск / Search</a>
					</li>
					<li>
						<a href="/tests">Тесты / Tests</a>
					</li>
				</ul>
				<a class="btn btn-xs btn-success navbar-btn navbar-left" id="set-trace">
					<i class="glyphicon glyphicon-flash"></i> Trace
				</a>
				<a class="btn btn-xs btn-danger navbar-btn navbar-right" id="logout">
					<i class="glyphicon glyphicon-log-out"></i> Logout
				</a>				
				<div id="user-info" class="navbar-right"></div>
			</div>
		</nav>

		<!-- Main container -->
		<div id="main" class="container-fluid"></div>
		
		<br />
		<!-- Footer -->
		<nav style="min-height:20px;" class="navbar navbar-fixed-bottom" id="copyright">
			<footer>
				<div class="container-fluid" style="background-color: white; border-top: 1px solid lightgray">
					<a href="http://www.semantic-machines.com" title="Официальный сайт компании">&copy; "Смысловые машины", ООО.</a>
					Лицензия / License
					<a alt="GNU General Public License version 3 official text" href="http://www.gnu.org/licenses/gpl.html">GPLv3.</a>
				</div>
			</footer>
		</nav>

		<!-- Javascript -->

		<!-- Utils & UI -->
		<script src="/js/browser/jquery.js"></script>
		<script src="/js/browser/bootstrap.min.js"></script>
		<script src="/js/browser/cookie.js"></script>
		<script src="/js/browser/sha256.js"></script>
		<script src="/js/browser/util.js"></script>
		
		<!-- Veda browser & server -->
		<script src="/js/common/riot.js"></script>
		<script src="/js/common/util.js"></script>
		<script src="/js/common/register_module.js"></script>
		<script src="/js/common/veda_spa.js"></script>
		<script src="/js/common/app_model.js"></script>
		<script src="/js/common/console_model.js"></script>
		<script src="/js/common/document_model.js"></script>
		<script src="/js/common/user_model.js"></script>
		<script src="/js/common/search_model.js"></script>

		<!-- Veda browser only -->
		<script src="/js/browser/app_presenter.js"></script>
		<script src="/js/browser/backend.js"></script>
		<script src="/js/browser/console_presenter.js"></script>
		<script src="/js/browser/document_presenter.js"></script>
		<script src="/js/browser/user_presenter.js"></script>
		<script src="/js/browser/search_presenter.js"></script>
		
		<script type="text/javascript">
			$(function(){
				Veda({/* configuration object*/});
			});
		</script>

		<!-- Templates -->

		<!-- Login -->
		<script type="html/template" id="login-template">
			<div class="container-fluid" id="login-form">
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3">
						<h1>Представьтесь <span class="text-muted">/ Login</span></h1>
						<form role="form" id="credentials">
							<div class="form-group">
								<label for="login">Логин / Login</label>
								<input id="login" required="required" type="text" placeholder="Введите логин / Enter login" name="login" class="form-control"/>
							</div>
							<div class="form-group">
								<label for="password">Пароль / Password</label>
								<input id="password" required="required" type="password" placeholder="Введите пароль / Enter password" name="password" autofocus="autofocus" class="form-control"/>
							</div>
							<button type="submit" id="submit" class="btn btn-primary">Войти / Enter</button>
						</form>
					</div>
				</div>
			</div>
		</script>

		<!-- Welcome -->
		<script type="html/template" id="wellcome-template">
			<div class="jumbotron">
				<div class="container-fluid">
					<h1>Добро пожаловать в Veda</h1>
					<h1><span class="text-muted">Welcome to Veda!</span></h1>
					<p>Veda - это крупномасштабная документоориентированная система управления предприятием</p>
					<p class="text-muted">Veda is a large scale document-oriented enterprise management system</p>
					<p><a class="btn btn-primary btn-lg" href="#/console">Поехали <span class="text-muted">/ Go!</span></a></p>
				</div>
			</div>
		</script>

		<!-- Console template -->
		<script type="html/template" id="console-template">
			<div class="container-fluid" id="console">
				<h2>JavaScript console</h2>
				<form role="form">
					<div class="form-group row">
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
							<label for="script">Script</label>
							<textarea rows="10" class="form-control" placeholder="Enter script" autofocus="autofocus" id="script" bound>{script}</textarea>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
							<select class="form-control" id="runat" bound>
								<option value="browser">Browser</option>
								<option value="server">Server</option>
							</select>
						</div>
						<button type="submit" class="btn btn-success" id="run">Run!</button>
						<button type="reset" class="btn" id="reset">Clear</button>
					</div>
				</form>
				<hr />
				<p><strong>Result <span class="text-muted">(executed in <span id="time" bound>{time}</span> msecs)</span></label></strong></p>
				<pre id="result" bound>{result}</pre>
			</div>
		</script>

		<!-- Document template -->
		<script type="html/template" id="document-template">
			<div class="" id="document">
				<h3 id="label">Тип: наименование</h3>
				<div class="container-fluid" id="document-properties">
				</div>
			</div>
		</script>
		
		<!-- Single property template -->
		<script type="html/template" id="single-property-template">
			<div class="row">
				<div class="col-xs-4 col-sm-4 col-md-3 col-lg-3 text-right">
					<strong>{property}</strong>
				</div>
				<div class="col-xs-8 col-sm-8 col-md-9 col-lg-9">
					{values}
				</div>
			</div>
			<hr style="margin:5px; border-color:#f9f9f9">
		</script>	

		<!-- Current user template -->
		<script type="html/template" id="current-user-template">
			<p class="navbar-text navbar-right">
				Signed in as 
				<a href="#/document/{id}" class="navbar-link" id="current-user">{name}</a>
			</p>
			<div data-toggle="buttons" class="navbar-right btn-group">
				<label id="ru-label" class="btn btn-xs btn-info navbar-btn active">
					<input id="ru" type="radio"/>
					Ru
				</label>
				<label id="en-label" class="btn btn-xs btn-info navbar-btn">
					<input id="ru" type="radio"/>
					En
				</label>
			</div>
		</script>

		<!-- Search template -->
		<script type="html/template" id="search-template">
			<br />
			<div id="search">
				<div class="well">
					<div class="container-fluid">
						<form method="GET" role="form">
							<div class="row">
								<div class="col-xs-7 col-sm-7 col-sm-offset-1 col-md-8 col-md-offset-1 col-lg-8 col-lg-offset-1">
									<label for="q" class="sr-only">Запрос / Query:</label>
									<input id="q" bound value="{q}" type="text" placeholder="Введите запрос / Enter query" name="q" class="form-control" autofocus="autofocus"/>
								</div>
								<div class="col-xs-5 col-sm-4 col-md-3 col-lg-3">
									<button type="submit" id="search-submit" class="btn btn-primary">Искать / Search</button>
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="container-fluid">
					<h1 class="text-center">Результаты поиска
						<span class="text-muted">/ Search results</span>
						(<span id="results_count" bound>{results_count}</span>)
					</h1>
					<hr/>
					<ol id="search-results-list">
					</ol>
					<hr/>
					<div class="text-center">
						<ul class="pagination" id="pager">
						</ul>
					</div>
				</div>
			</div>
		</script>		

	</body>
</html>
