Протокол обмена c CCUS

Клиент -> Сервер:

    Рукопожатие: ccus=Ticket
    Добавить подписку: +uriN=M[,...]
    Примеры:
    +uri1=5
    +uri1=5,+uri2=9,+uri3=2
    Отменить подписку: -uriN[,...]
    Примеры:
    -uri1
    -uri1,-uri2,-uri3
    Отменить все подписки: -*
    Получить текущий список подписки: =

где Ticket - сессионный билет текущего пользователя, (+/-) - операция подписки или отмены подписки, uriN - uri индивида, M - текущее значение счетчика изменений индивида на сервере.



Сервер -> Клиент

    Сообщение об изменении индивидов (как и было): uriN=M[,...]
    Примеры:
    uri1=5
    uri1=5,uri2=4,uri4=9
    Вернуть текущий список подписки: =uriN=9[,...]
    Примеры:
    =uri1=9,uri5=3

где uriN - uri индивида, M - текущее значение счетчика изменений индивида на сервере.
