# baseURI: http://semantic-machines.com/veda/veda-workflow
# imports: http://www.w3.org/1999/02/22-rdf-syntax-ns#
# imports: http://www.w3.org/2000/01/rdf-schema#
# imports: http://www.w3.org/2002/07/owl

# c14n-version: 3
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-a: <http://semantic-machines.com/veda/veda-admin/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix v-wf: <http://semantic-machines.com/veda/veda-workflow/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://semantic-machines.com/veda/veda-workflow>
	rdfs:isDefinedBy v-wf: ;
  rdf:type owl:Ontology ;
  rdfs:label "Veda system workflow ontology"@en ;
  rdfs:label "Онтология потоков работ системы Veda"@ru ;
  owl:imports rdf: ;
  owl:imports rdfs: ;
  owl:imports owl: ;
  owl:DversionInfo "1.2" ;
.
v-wf:Net
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Net"@en ;
	rdfs:label "Сеть"@ru ;
.
v-wf:NetElement
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Net element"@en ;
	rdfs:label "Элемент сети"@ru ;
.
v-wf:Condition
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:subClassOf v-wf:NetElement ;
	rdfs:label "Condition"@en ;
	rdfs:label "Состояние"@ru ;
.
v-wf:InputCondition
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:subClassOf v-wf:Condition ;
	rdfs:label "Input condition"@en ;
	rdfs:label "Входное состояние"@ru ;
.
v-wf:OutputCondition
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:subClassOf v-wf:Condition ;
	rdfs:label "Output condition"@en ;
	rdfs:label "Выходное состояние"@ru ;
.
v-wf:Task
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:subClassOf v-wf:NetElement ;	
	rdfs:label "Task"@en ;
	rdfs:label "Задача"@ru ;
.
v-wf:Flow
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Flow"@en ;
	rdfs:label "Поток"@ru ;
.
v-wf:ExecutorDefinition
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Executor definition"@en ;
	rdfs:label "Выбор исполнителя"@ru ;
.
v-wf:TransitionBehavior
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Transition behavior"@en ;
	rdfs:label "Тип перехода"@ru ;
.

v-wf:belongsTo
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "belongs to..."@en ;
	rdfs:label "принадлежит к..."@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range v-wf:Net .


v-wf:hasFlow
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "has flow"@en ;
	rdfs:label "имеет поток"@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range v-wf:Flow ;
.
v-wf:consistsOf
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Consists Of"@en ;
	rdfs:label "Состоит из"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:range v-wf:NetElement ;
	rdfs:range v-wf:Flow ;
.

v-wf:locationX
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "location X"@en ;
	rdfs:label "позиция по Х"@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range xsd:integer ;
.
v-wf:locationY
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "location Y"@en ;
	rdfs:label "позиция по Y"@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range xsd:integer ;
.

v-wf:XOR
	rdf:type v-wf:TransitionBehavior ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "XOR"^^xsd:string ;
.
v-wf:OR
	rdf:type v-wf:TransitionBehavior ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "OR"^^xsd:string ;
.
v-wf:AND
	rdf:type v-wf:TransitionBehavior ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "AND"^^xsd:string ;
.
v-wf:None
	rdf:type v-wf:TransitionBehavior ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "None"^^xsd:string ;
.
v-wf:subNet
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "subnet"@en ;
	rdfs:label "подсеть"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Net ;
.
v-wf:inputVariable
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "input variable"@en ;
	rdfs:label "входная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:VarDefine ;
.
v-wf:outputVariable
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "output variable"@en ;
	rdfs:label "выходная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:VarDefine ;
.
v-wf:localVariable
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "local variable"@en ;
	rdfs:label "локальная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:VarDefine ;
.
v-wf:expectedResultType
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "expected result type"@en ;
	rdfs:label "ожидаемый тип результата"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range owl:Class ;
.

v-wf:startDecisionTransform
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "трансформация для создания формы решения"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Transform ;
.

v-wf:completeDecisionTransform
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "трансформация преобразования формы решения"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Transform ;
.

v-wf:inputOutputVariable
	rdfs:isDefinedBy v-wf: ;
	rdf:type rdf:Property ;
	rdfs:label "input/output variable"@en ;
	rdfs:label "входная / выходная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:VarDefine ;
.

v-wf:split
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "split"@en ;
	rdfs:label "разветвление"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:TransitionBehavior ;
.

v-wf:join
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "join"@en ;
	rdfs:label "объединение"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:TransitionBehavior ;
.

v-wf:flowsInto
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "flows into"@en ;
	rdfs:label "направление потока"@ru ;
	rdfs:domain v-wf:Flow ;
	rdfs:range v-wf:NetElement ;
.

v-wf:predicate
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "flow predicate"@en ;
	rdfs:label "предикат потока"@ru ;
	rdfs:domain v-wf:Flow ;
	rdfs:range xsd:string ;
.

v-wf:curviness
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "curviness"@en ;
	rdfs:label "степень кривизны"@ru ;
	rdfs:domain v-wf:Flow ;
	rdfs:range xsd:integer ;
.

v-wf:startingMapping
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "starting mapping"@en ;
	rdfs:label "стартовое преобразование"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:completedMapping
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "completed mapping"@en ;
	rdfs:label "конечное преобразование"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:wosResultsMapping
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "work orders results mapping"@en ;
	rdfs:label "преобразование результатов рабочих заданий"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:executor
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "executor"@en ;
	rdfs:label "исполнитель"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:domain v-wf:WorkOrder ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:ExecutorDefinition ;
	rdfs:range v-s:Appointment ;
	rdfs:range v-s:Codelet ;
.

v-wf:executorExpression
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "executor choice expression"@en ;
	rdfs:label "выражение выбора исполнителя"@ru ;
	rdfs:domain v-wf:ExecutorDefinition ;
	rdfs:range xsd:string ;
.

#------------------------------------------------------
v-wf:VarDefine
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Variable"@en ;
	rdfs:label "Определение переменой"@ru ;
.

v-wf:varDefineName
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "variable name"@en ;
	rdfs:label "имя определяемой переменной"@ru ;
	rdfs:domain v-wf:VarDefine ;
	rdfs:range xsd:string ;
.

v-wf:varDefineScope
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "определяемая область видимости"@ru ;
	rdfs:domain v-wf:VarDefine ;
        rdfs:range v-wf:Net ;
        rdfs:range v-wf:Task ;
.


v-wf:Variable
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Variable"@en ;
	rdfs:label "Переменная"@ru ;
.

v-wf:variableName
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "variable name"@en ;
	rdfs:label "имя переменной"@ru ;
	rdfs:domain v-wf:Variable ;
	rdfs:range xsd:string ;
.

v-wf:variableValue
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "variable value"@en ;
	rdfs:label "значение переменной"@ru ;
	rdfs:domain v-wf:Variable ;
	rdfs:range rdfs:Resource ;
.

v-wf:variableScope
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "область видимости"@ru ;
	rdfs:domain v-wf:Variable ;
        rdfs:range v-wf:Process ;
        rdfs:range v-wf:WorkItem ;
.

v-wf:complete
	rdf:type v-wf:Variable ;
	rdfs:isDefinedBy v-wf: ;
	v-wf:variableName "complete" ;
	v-wf:variableValue "yes" ;
.


#------------------------------------------------------

v-wf:NetTemplate
  rdf:type v-ui:ClassTemplate ;
	rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Сеть"@ru ;
  rdfs:label "Template for Net class"@en ;
  v-ui:forClass v-wf:Net ;
  v-ui:template """
<div class="workflow-wrapper">
	<div class="row">
		<div id="schema" class="col-md-8">
			<div class="workflow-canvas-wrapper">
				<div class="row" id="workflow-toolbar">
					<div class="col-md-4">
						<h4 id="workflow-net-name" style="margin-left:10px"></h4>
					</div>
					<div class="col-md-8">
						<div class="btn-toolbar pull-right">
						  <div class="btn-group">
								<button type="button" class="btn btn-default create-state create-task">
									<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								</button>								
								<button type="button" class="btn btn-default create-state create-condition">
									<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
								</button>
								<button type="button" class="btn btn-default edit-state">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								</button>								
								<button type="button" class="btn btn-default delete-state">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
								</button>
						  </div>
						  <div class="btn-group">
								<button type="button" class="btn btn-default zoom-in">
									<span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
								</button>								
								<button type="button" class="btn btn-default zoom-default">
									<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
								</button>				
								<button type="button" class="btn btn-default zoom-out">
									<span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span>
								</button>						  
						  </div>
						  <div class="btn-group">
								<button id="workflow-save-button" type="button" class="btn btn-default" style="float:right;">
									<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
								</button>
								<button id="workflow-export-ttl" type="button" class="btn btn-default" style="float:right;">
									<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
								</button>
						  </div>
						  <div class="btn-group">
							  <button id="full-width" class="btn btn-sm btn-default">
								<span class=" glyphicon glyphicon-resize-full" aria-hidden="true"></span>
							  </button>
						  </div>
						</div>
					</div>
				</div>
				<div id="workflow-canvas">
				</div>
			</div>
		</div>
		<div id="props-col" class="col-md-4">
			<h4>Элемент: <span id="props-head" property="rdfs:label"></span></h4><hr class="no-margin"/><br/>
			<div id="props"></div>
		</div>
	</div>
</div>

<div id="workflow-context-menu" class="dropdown clearfix">
    <ul class="workflow-context-menu-list" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
    </ul>
</div>

<script type="text/javascript">
var wrapper = $(".workflow-canvas-wrapper", template),
	height = ( $("#copyright").offset().top - wrapper.offset().top - 10 ) + "px",
	fullWidth = $("#full-width", template),
	icon = $("span", fullWidth),
	propsCol = $("#props-col", template),
	schema = $("#schema", template);
wrapper.css("height", height);
propsCol.css("height", height);
fullWidth.click(function () {
	propsCol.toggle();
	icon.toggleClass("glyphicon-resize-full glyphicon-resize-small");
	schema.toggleClass("col-md-8 col-md-12");
});
jsWorkflow.ready(function () {
    // Create a new workflow instance as workflow
    var workflow = new jsWorkflow.Instance();

    // Initialize workflow with workflow container id
    var net = workflow.init('workflow-canvas', veda, individual, template, container);
});
</script>
  """ ;
.

v-wf:ProcessTemplate
  rdf:type v-ui:ClassTemplate ;
	rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Процесс"@ru ;
  rdfs:label "Template for Process"@en ;
  v-ui:forClass v-wf:Process ;
  v-ui:template """
<div class="workflow-wrapper">
	<div class="row">
		<div id="schema" class="col-md-8">
			<div class="workflow-canvas-wrapper">
				<div class="row" id="workflow-toolbar">
					<div class="col-md-4">
						<h4 id="workflow-net-name" style="margin-left:10px"></h4>
					</div>
					<div class="col-md-8">
						<div class="btn-toolbar pull-right">
						  <div class="btn-group">
							  <button type="button" class="btn btn-sm btn-default process-refresh">
								  <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
							  </button>
						  </div>
						  <div class="btn-group">
							  <button id="full-width" class="btn btn-sm btn-default">
								<span class=" glyphicon glyphicon-resize-full" aria-hidden="true"></span>
							  </button>
						  </div>
						</div>
					</div>
				</div>
				<div id="workflow-canvas">
				</div>
			</div>
		</div>
		<div id="props-col" class="col-md-4">
			<h4>Элемент: <span id="props-head" property="rdfs:label"></span></h4><hr class="no-margin"/><br/>
			<div id="props"></div>
		</div>
	</div>
</div>

<div id="workflow-context-menu" class="dropdown clearfix">
    <ul class="workflow-context-menu-list" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
    </ul>
</div>

<script type="text/javascript">
var wrapper = $(".workflow-canvas-wrapper", template),
	height = ( $("#copyright").offset().top - wrapper.offset().top - 10 ) + "px",
	fullWidth = $("#full-width", template),
	icon = $("span", fullWidth),
	propsCol = $("#props-col", template),
	schema = $("#schema", template);
wrapper.css("height", height);
propsCol.css("height", height);
fullWidth.click(function () {
	propsCol.toggle();
	icon.toggleClass("glyphicon-resize-full glyphicon-resize-small");
	schema.toggleClass("col-md-8 col-md-12");
});
jsWorkflow.ready(function () {
    // Create a new workflow instance as workflow
    var workflow = new jsWorkflow.Instance();

    // Initialize workflow with workflow container id
    var net = workflow.init('workflow-canvas', veda, individual, template, container);
});
</script>
  """ ;
.

v-wf:ProcessPropsTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Рабочее задание-"@ru ;
  rdfs:label "Template for Work order class"@en ;
  v-ui:template """
<div>
	<div id="executor">
		<em><h5 about="v-wf:executor" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:executor" template="v-ui:ClassNameLabelTemplate"></li></ol>
		<hr>
	</div>
	<div id="localVariable">
		<em><h5 about="v-wf:localVariable" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:localVariable" template="v-wf:VariableTemplate"></li></ol>
		<hr>
	</div>
	<div id="inVars">
		<em><h5 about="v-wf:inVars" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:inVars" template="v-wf:VariableTemplate"></li></ol>
		<hr>
	</div>
	<div id="outVars">
		<em><h5 about="v-wf:outVars" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:outVars" template="v-wf:VariableTemplate"></li></ol>
	</div>
</div>
<script>
	if (!individual.hasValue("v-wf:inVars")) $("#inVars", template).remove();
	if (!individual.hasValue("v-wf:outVars")) $("#outVars", template).remove();
	if (!individual.hasValue("v-wf:localVariable")) $("#localVariable", template).remove();
	if (!individual.hasValue("v-wf:executor")) $("#executor", template).remove();
</script>
  """
.
v-wf:WorkItemTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Рабочее задание-"@ru ;
  rdfs:label "Template for Work order class"@en ;
  v-ui:forClass v-wf:WorkItem ;
  v-ui:template """
<div>
	<h4><span about="v-wf:WorkItem" property="rdfs:label"></span></h4>
	<h5><strong><span about="@" property="id"></span> <a href="id"><i class='glyphicon glyphicon-share-alt'></i></a></strong></h5>
	<hr>
	<div id="inVars">
		<em><h5 about="v-wf:inVars" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:inVars" template="v-wf:VariableTemplate"></li></ol>
		<hr>
	</div>
	<div id="outVars">
		<em><h5 about="v-wf:outVars" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:outVars" template="v-wf:VariableTemplate"></li></ol>
		<hr>
	</div>
	<div id="workOrderList">
		<em><h5 about="v-wf:workOrderList" property="rdfs:label"></h5></em>
		<ol><li rel="v-wf:workOrderList" template="v-wf:WorkOrderTemplate"></li></ol>
		<hr>		
	</div>
</div>
<script>
	if (!individual.hasValue("v-wf:inVars")) $("#inVars", template).remove();
	if (!individual.hasValue("v-wf:outVars")) $("#outVars", template).remove();
	if (!individual.hasValue("v-wf:workOrderList")) $("#workOrderList", template).remove();
</script>
  """ ;
  .

v-wf:VariableTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Переменная"@ru ;
  rdfs:label "Template for Variable class"@en ;
  v-ui:forClass v-wf:Variable ;
  v-ui:template """
<span>
	<strong><span property="v-wf:variableName"></span> =</strong>
	<ul id="values"></ul>
	<div id="variableScope">
		<em about="v-wf:variableScope" property="rdfs:label"></em>
		<ul><li rel="v-wf:variableScope" template="v-ui:ClassNameLabelTemplate"></li></ul>
	</div>
</span>
<script type="text/javascript">
	if (!individual.hasValue("v-fw:variableScope")) $("#variableScope", template).remove();
	var valHolder = $("#values", template);
	individual["v-wf:variableValue"].map( function (value) {
		var el = $("<li>");
		if (value instanceof veda.IndividualModel) {
			new veda.IndividualModel(value, el, new veda.IndividualModel("v-ui:ClassNameLabelTemplate"));
		} else {
			el.text(value.toString());
		}
		valHolder.append(el);
	});
</script>
  """ ;
  .

v-wf:WorkOrderTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Рабочее задание"@ru ;
  rdfs:label "Template for Work Order"@en ;
  v-ui:forClass v-wf:WorkOrder ;
  v-ui:template """
<div>
	<strong><span about="@" property="id"></span> <a href="id"><i class='glyphicon glyphicon-share-alt'></i></a></strong>
	<div id="executor">
		<em about="v-wf:executor" property="rdfs:label"></em>
		<ul><li rel="v-wf:executor" template="v-ui:ClassNameLabelTemplate"></li></ul>
	</div>
	<div id="outVars">
		<em about="v-wf:outVars" property="rdfs:label"></em>
		<ul><li rel="v-wf:outVars" template="v-wf:VariableTemplate"></li></ul>
	</div>
	<div id="isProcess">
		<em about="v-wf:isProcess" property="rdfs:label"></em>
		<ul><li rel="v-wf:isProcess" template="v-ui:ClassNameLabelTemplate"></li></ul>
	</div>
	<br/>
</div>
<script>
	if (!individual.hasValue("v-wf:executor")) $("#executor", template).remove();
	if (!individual.hasValue("v-wf:outVars")) $("#outVars", template).remove();
	if (!individual.hasValue("v-wf:isProcess")) $("#isProcess", template).remove();
</script>
  """ ;
  .
  
v-wf:DecisionFormTemplate
  rdf:type v-ui:ClassTemplate ;
	rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса Форма решения"@ru ;
  rdfs:label "Template for Decision form class"@en ;
  rdfs:comment "Пустой шаблон сделан специально, поскольку индивиды этого класса не должны вводиться пользователями"@ru ;
  v-ui:forClass v-wf:DecisionForm ;
  v-ui:template """
  """ ;
  .

#---------------------------- Decision Form ------------------------

v-wf:DecisionForm
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Форма решения"@ru ;
	rdfs:label "Decision form"@en ;
.

v-wf:onWorkOrder
        rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "on work order"@ru ;
        rdfs:domain v-wf:DecisionForm ;
        rdfs:range v-s:WorkOrder ;
.

v-wf:takenDecision
        rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "решение"@ru ;
        rdfs:domain v-wf:DecisionForm ;
        rdfs:range rdfs:Resource ;
.
v-wf:possibleDecisionClass
        rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "возможные варианты решения"@ru ;
        rdfs:domain v-wf:DecisionForm ;
        rdfs:range owl:Class ;
.
v-wf:onDocument
        rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "по документу"@ru ;
        rdfs:domain v-wf:DecisionForm ;
        rdfs:range rdfs:Resource ;
.
        
v-wf:from
        rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "от кого"@ru ;
        rdfs:domain v-wf:DecisionForm ;
        rdfs:range v-s:Appointment ;
.

v-wf:dateGiven
        rdf:type owl:DatatypeProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "когда"@ru ;
        rdfs:domain v-wf:DecisionForm ;
        rdfs:range xsd:dateTime ;
.


  
# --------------------------- Start Form ---------------------------
v-wf:StartForm
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Стартовая форма"@ru ;
	rdfs:label "Start form"@en ;
.
v-wf:processedDocument
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Обрабатываемый документ"@ru ;
	rdfs:label "Processed document"@en ;
	rdfs:domain v-wf:StartForm ;
	rdfs:range v-s:Document ;
.
v-wf:processInitiator
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Инициатор процесса"@ru ;
	rdfs:label "Process initiator"@en ;
	rdfs:domain v-wf:StartForm ;
	rdfs:range v-s:Appointment ;
.
v-wf:forNet
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Для сети..."@ru ;
	rdfs:label "For net..."@en ;
	rdfs:domain v-wf:StartForm ;
	rdfs:range v-wf:Net ;
.

v-wf:useTransformation
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Использовать преобразование"@ru ;
	rdfs:label "Use transformation"@en ;
	rdfs:domain v-wf:StartForm ;
	rdfs:range v-wf:Process ;
.

# --------------------------- Mapping to variable ---------------------------

v-wf:Mapping
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Mapping"@en ;
	rdfs:label "Преобразование"@ru ;
.
v-wf:mappingExpression
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "mapping expression"@en ;
        rdfs:label "выражение преобразования"@ru ;
        rdfs:domain v-wf:Mapping ;
        rdfs:range xsd:string ;
.
v-wf:mapToVariable
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "maps to variable"@en ;
        rdfs:label "преобразуется в переменную"@ru ;
        rdfs:domain v-wf:Mapping ;
        rdfs:range v-wf:VarDefine ;
.

# --------------------------- Transformation ---------------------------

v-wf:Transform
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Трансформация"@ru ;
	rdfs:label "Transformation"@en ;
.

v-wf:transformRule
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "правило преобразования"@ru ;
	rdfs:domain v-wf:Transform ;
        rdfs:range v-wf:Rule ;
.

v-wf:Rule
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "правило"@ru ;
.

v-wf:segregateObject
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "выражение для выделения подмножества обьектов"@ru ;
	rdfs:domain v-wf:Rule ;
        rdfs:range xsd:string ;
.
v-wf:segregateElement
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "выражение для выделения подмножества элементов"@ru ;
	rdfs:domain v-wf:Rule ;
        rdfs:range xsd:string ;
.
v-wf:conversion
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "выражение для преобразования элемента"@ru ;
	rdfs:domain v-wf:Rule ;
        rdfs:range xsd:string ;
.

v-wf:create
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "выражение для создания обьекта"@ru ;
	rdfs:domain v-wf:Rule ;
        rdfs:range xsd:string ;
.

v-wf:agregate
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "выражение для размещения элемента в обьекте"@ru ;
	rdfs:domain v-wf:Rule ;
        rdfs:range xsd:string ;
.

v-wf:grouping
        rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "выражение для группировки созданных обьектов"@ru ;
	rdfs:domain v-wf:Rule ;
        rdfs:range xsd:string ;
.

# --------------------------- Process ---------------------------
v-wf:Process
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Процесс"@ru ;
	rdfs:label "Process"@en ;
.
v-wf:instanceOf
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "процесс сети..."@ru ;
	rdfs:label "instance of..."@en ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:Net ;
.
v-wf:inVars
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "входящие переменные"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:range v-wf:Variable ;
.

v-wf:outVars
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "исходящие переменные"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:domain v-wf:WorkOrder ;
	rdfs:range v-wf:Variable ;
.

v-wf:parentWorkOrder
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "относится к рабочему заданию"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:WorkOrder ;
.

# --------------------------- WorkItem ---------------------------
v-wf:WorkItem
	rdf:type rdfs:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "выполняемая задача"@ru ;
	rdfs:label "work item"@en ;
.

v-wf:forProcess
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "относится к процессу"@ru ;
	rdfs:label "for process"@en ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:range v-wf:Process ;
.

v-wf:forNetElement
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "относится к элементу сети"@ru ;
	rdfs:label "for net element"@en ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:range v-wf:NetElement ;
.

v-wf:workOrderList
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "список заданий для исполнителей"@ru ;
	rdfs:label "list task for executor"@en ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:range v-wf:WorkOrder ;
.

v-wf:workItemList
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "список порожденных заданий"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:WorkItem ;
.

v-wf:previousWorkItem
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "предыдущая выполняемая задача"@ru ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:range v-wf:WorkItem ;
.

v-wf:isCompleted
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "is completed"@en ;
	rdfs:label "завершено"@ru ;
	rdfs:domain v-wf:WorkItem ;
	rdfs:domain v-wf:DecisionForm ;
	rdfs:range xsd:boolean ;
.

# --------------------------- WorkOrder --------------------------
v-wf:WorkOrder
	rdf:type owl:Class ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "work order"@en ;
	rdfs:label "рабочее задание"@ru ;
.

v-wf:forWorkItem
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "относится к выполняемой задаче"@ru ;
	rdfs:label "for work item"@en ;
	rdfs:domain v-wf:WorkOrder ;
	rdfs:range v-wf:WorkItem ;
.

v-wf:useSubNet
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "использовать подсеть"@ru ;
	rdfs:domain v-wf:WorkOrder ;
	rdfs:range v-wf:Net ;
.

# --------------------------- обработка событий => docflow ---------------------------------------
v-wf:event_df1
	rdf:type v-s:Event ;
	rdfs:isDefinedBy v-wf: ;
	v-s:author v-a:VedaSystemAccount ;
	v-s:filter v-wf:StartForm ;
	v-s:script """

        prepare_start_form (ticket, document);

""" ;
	rdfs:label "триггер запуска маршрута из пользовательской формы"@ru ;
.

v-wf:event_df2
	rdf:type v-s:Event ;
	rdfs:isDefinedBy v-wf: ;
	v-s:author v-a:VedaSystemAccount ;
	v-s:filter v-wf:Process ;
	v-s:script """

	prepare_process (ticket, document);

""" ;
	rdfs:label "триггер выполнения маршрута"@ru ;
.

v-wf:event_df3
	rdf:type v-s:Event ;
	rdfs:isDefinedBy v-wf: ;
	v-s:author v-a:VedaSystemAccount ;
	v-s:filter v-wf:WorkItem ;
	v-s:script """

	prepare_work_item (ticket, document);

""" ;
	rdfs:label "триггер выполнения элемента сети"@ru ;
.

v-wf:event_df4
	rdf:type v-s:Event ;
	rdfs:isDefinedBy v-wf: ;
	v-s:author v-a:VedaSystemAccount ;
	v-s:filter v-wf:WorkOrder ;
	v-s:script """

	prepare_work_order (ticket, document);

""" ;
	rdfs:label "триггер выполнения рабочего задания"@ru ;
.

v-wf:event_df5
	rdf:type v-s:Event ;
	rdfs:isDefinedBy v-wf: ;
	v-s:author v-a:VedaSystemAccount ;
	v-s:filter v-wf:DecisionForm ;
	v-s:script """

	prepare_decision_form (ticket, document);

""" ;
	rdfs:label "триггер обработки решения пользователя"@ru ;
.

v-wf:Decision
	rdfs:subClassOf owl:Thing ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "decision"@en ;
	rdfs:label "решение"@ru ;
.

v-wf:DecisionAgreed
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "согласовано"@ru ;
.	

v-wf:DecisionSign
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "подписано"@ru ;
.	

v-wf:DecisionApprove
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "утверждено"@ru ;
.	

v-wf:DecisionReview
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "рассмотрено"@ru ;
.	

v-wf:DecisionRejected
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "отклонено"@ru ;
.	

v-wf:DecisionRemake
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "доработать"@ru ;
.	

v-wf:DecisionBreak
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "прервать маршрут"@ru ;
.	

v-wf:DecisionExamined
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "ознакомлен"@ru ;
.	

v-wf:DecisionAchieved
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "выполнено"@ru ;
.	

v-wf:DecisionNotPerformed
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "не выполнено"@ru ;
.	

v-wf:DecisionRedirect
	rdfs:subClassOf v-wf:Decision ;
	rdfs:isDefinedBy v-wf: ;
	rdf:type owl:Class ;
	rdfs:label "перенаправить другому"@ru ;
.	

v-wf:DecisionRedirectTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Шаблон для класса -Перенаправить другому-"@ru ;
  rdfs:label "Template for -Decision Redirect- class"@en ;
  v-ui:forClass v-wf:DecisionRedirect ;
  v-ui:template """
<div>
	<span about="v-wf:to" property="rdfs:label"></span>
	<!--div rel="v-wf:to" template="v-ui:LabelTemplate"></div-->
	<veda-control rel="v-wf:to"></veda-control>
	<br>
	<span about="rdfs:comment" property="rdfs:label"></span>
	<div property="rdfs:comment"></div>
	<veda-control property="rdfs:comment" type="xsd:string"></veda-control>
</div>
  """ ;
  .

v-wf:startingJournalMap
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "начальное преобразование для журнала"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:completedJournalMap
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "конечное преобразование для журнала"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:startingExecutorJournalMap
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "начальное преобразование данных исполнителя для журнала"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:completedExecutorJournalMap
	rdf:type rdf:Property ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "конечное преобразование данных исполнителя для журнала"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.

v-wf:onProcess
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:domain v-s:JournalRecord, v-s:Journal ;
  rdfs:label "on process"@en ;
  rdfs:label "к процессу"@ru ;
  rdfs:range v-wf:Process ;
.

v-wf:initiator
  rdf:type owl:ObjectProperty ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:domain v-s:JournalRecord ;
  rdfs:label "инициатор"@ru ;
  rdfs:range v-s:Appointment ;
.

v-wf:to
        rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
        rdfs:label "кому"@ru ;
        rdfs:domain v-wf:DecisionForm ;
	rdfs:domain v-wf:DecisionRedirect ;
	rdfs:domain v-s:JournalRecord ;
        rdfs:range v-s:Appointment ;
.

v-wf:isProcess
	rdf:type owl:ObjectProperty ;
	rdfs:isDefinedBy v-wf: ;
	rdfs:label "Запущен процесс"@ru ;
	rdfs:label "Started process"@en ;
	rdfs:domain v-wf:StartForm ;
	rdfs:domain v-wf:WorkOrder ;
	rdfs:domain v-s:JournalRecord ;
	rdfs:range v-wf:Process ;
.

v-wf:JETProcessStarted
  rdf:type v-s:JournalEventType ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Процесс запущен"@ru ;
  rdfs:label "Process started"@en ;
.

v-wf:JETSubProcessStarted
  rdf:type v-s:JournalEventType ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Подпроцесс запущен"@ru ;
  rdfs:label "Subprocess started"@en ;
.

v-wf:JETProcessCompleted
  rdf:type v-s:JournalEventType ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Процесс завершен"@ru ;
  rdfs:label "Process completed"@en ;
.

v-wf:JETTaskGiven
  rdf:type v-s:JournalEventType ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Выдана задача"@ru ;
  rdfs:label "Task given"@en ;
.

v-wf:JETTaskCompleted
  rdf:type v-s:JournalEventType ;
  rdfs:isDefinedBy v-wf: ;
  rdfs:label "Задача выполнена"@ru ;
  rdfs:label "Task completed"@en ;
.
