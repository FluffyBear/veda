# baseURI: http://semantic-machines.com/veda/veda-workflow
# imports: http://www.w3.org/1999/02/22-rdf-syntax-ns#
# imports: http://www.w3.org/2000/01/rdf-schema#
# imports: http://www.w3.org/2002/07/owl

# c14n-version: 3
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix v-wf: <http://semantic-machines.com/veda/veda-workflow/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://semantic-machines.com/veda/veda-workflow>
  rdf:type owl:Ontology ;
  rdfs:label "Veda system workflow ontology"@en ;
  rdfs:label "Онтология потоков работ системы Veda"@ru ;
  owl:imports rdf: ;
  owl:imports rdfs: ;
  owl:imports owl: ;
  owl:versionInfo "1.0" ;
.
v-wf:Net
	rdf:type owl:Class ;
	rdfs:label "Net"@en ;
	rdfs:label "Сеть"@ru ;
.
v-wf:NetElement
	rdf:type owl:Class ;
	rdfs:label "Net element"@en ;
	rdfs:label "Элемент сети"@ru ;
.
v-wf:Condition
	rdf:type owl:Class ;
	rdfs:subClassOf v-wf:NetElement ;
	rdfs:label "Condition"@en ;
	rdfs:label "Состояние"@ru ;
.
v-wf:InputCondition
	rdf:type owl:Class ;
	rdfs:subClassOf v-wf:Condition ;
	rdfs:label "Input condition"@en ;
	rdfs:label "Входное состояние"@ru ;
.
v-wf:OutputCondition
	rdf:type owl:Class ;
	rdfs:subClassOf v-wf:Condition ;
	rdfs:label "Output condition"@en ;
	rdfs:label "Выходное состояние"@ru ;
.
v-wf:Task
	rdf:type owl:Class ;
	rdfs:subClassOf v-wf:NetElement ;	
	rdfs:label "Task"@en ;
	rdfs:label "Задача"@ru ;
.
v-wf:Flow
	rdf:type owl:Class ;
	rdfs:label "Flow"@en ;
	rdfs:label "Поток"@ru ;
.
v-wf:Mapping
	rdf:type owl:Class ;
	rdfs:label "Mapping"@en ;
	rdfs:label "Преобразование"@ru ;
.
v-wf:ExecutorDefinition
	rdf:type owl:Class ;
	rdfs:label "Executor definition"@en ;
	rdfs:label "Выбор исполнителя"@ru ;
.
v-wf:TransitionBehavior
	rdf:type owl:Class ;
	rdfs:label "Transition behavior"@en ;
	rdfs:label "Тип перехода"@ru ;
.
v-wf:Variable
	rdf:type owl:Class ;
	rdfs:label "Variable"@en ;
	rdfs:label "Переменная"@ru ;
.
v-wf:belongsTo
	rdf:type rdf:Property ;
	rdfs:label "belongs to..."@en ;
	rdfs:label "принадлежит к..."@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range v-wf:Net ;
.
v-wf:hasFlow
	rdf:type rdf:Property ;
	rdfs:label "has flow"@en ;
	rdfs:label "имеет поток"@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range v-wf:Flow ;
.
v-wf:consistsOf
	rdf:type rdf:Property ;
	rdfs:label "Consists Of"@en ;
	rdfs:label "Состоит из"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:range v-wf:NetElement ;
	rdfs:range v-wf:Flow ;
.
v-wf:variableName
	rdf:type rdf:Property ;
	rdfs:label "variable name"@en ;
	rdfs:label "имя переменной"@ru ;
	rdfs:domain v-wf:Variable ;
	rdfs:range xsd:string ;
.
v-wf:variableValue
	rdf:type rdf:Property ;
	rdfs:label "variable value"@en ;
	rdfs:label "значение переменной"@ru ;
	rdfs:domain v-wf:Variable ;
	rdfs:range rdf:Resource ;
.
v-wf:locationX
	rdf:type rdf:Property ;
	rdfs:label "location X"@en ;
	rdfs:label "позиция по Х"@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range xsd:integer ;
.
v-wf:locationY
	rdf:type rdf:Property ;
	rdfs:label "location Y"@en ;
	rdfs:label "позиция по Y"@ru ;
	rdfs:domain v-wf:NetElement ;
	rdfs:range xsd:integer ;
.

v-wf:XOR
	rdf:type v-wf:TransitionBehavior ;
	rdfs:label "XOR"^^xsd:string ;
.
v-wf:OR
	rdf:type v-wf:TransitionBehavior ;
	rdfs:label "OR"^^xsd:string ;
.
v-wf:AND
	rdf:type v-wf:TransitionBehavior ;
	rdfs:label "AND"^^xsd:string ;
.
v-wf:None
	rdf:type v-wf:TransitionBehavior ;
	rdfs:label "None"^^xsd:string ;
.
v-wf:subNet
	rdf:type rdf:Property ;
	rdfs:label "subnet"@en ;
	rdfs:label "подсеть"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Net ;
.
v-wf:inputVariable
	rdf:type rdf:Property ;
	rdfs:label "input variable"@en ;
	rdfs:label "входная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Variable ;
.
v-wf:outputVariable
	rdf:type rdf:Property ;
	rdfs:label "output variable"@en ;
	rdfs:label "выходная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Variable ;
.
v-wf:localVariable
	rdf:type rdf:Property ;
	rdfs:label "local variable"@en ;
	rdfs:label "локальная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Variable ;
.
v-wf:inputOutputVariable
	rdf:type rdf:Property ;
	rdfs:label "input/output variable"@en ;
	rdfs:label "входная / выходная переменная"@ru ;
	rdfs:domain v-wf:Net ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Variable ;
.
v-wf:split
	rdf:type rdf:Property ;
	rdfs:label "split"@en ;
	rdfs:label "разветвление"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:TransitionBehavior ;
.
v-wf:join
	rdf:type rdf:Property ;
	rdfs:label "join"@en ;
	rdfs:label "объединение"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:TransitionBehavior ;
.
v-wf:flowsInto
	rdf:type rdf:Property ;
	rdfs:label "flows into"@en ;
	rdfs:label "направление потока"@ru ;
	rdfs:domain v-wf:Flow ;
	rdfs:range v-wf:NetElement ;
.
v-wf:predicate
	rdf:type rdf:Property ;
	rdfs:label "flow predicate"@en ;
	rdfs:label "предикат потока"@ru ;
	rdfs:domain v-wf:Flow ;
	rdfs:range xsd:string ;
.
v-wf:startingMapping
	rdf:type rdf:Property ;
	rdfs:label "starting mapping"@en ;
	rdfs:label "стартовое преобразование"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.
v-wf:completedMapping
	rdf:type rdf:Property ;
	rdfs:label "completed mapping"@en ;
	rdfs:label "конечное преобразование"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:Mapping ;
.
v-wf:mapsTo
	rdf:type rdf:Property ;
	rdfs:label "maps to"@en ;
	rdfs:label "преобразуется в"@ru ;
	rdfs:domain v-wf:Mapping ;
	rdfs:range v-wf:Variable ;
.
v-wf:mappingExpression
	rdf:type rdf:Property ;
	rdfs:label "mapping expression"@en ;
	rdfs:label "выражение преобразования"@ru ;
	rdfs:domain v-wf:Mapping ;
	rdfs:range xsd:string ;
.
v-wf:executor
	rdf:type rdf:Property ;
	rdfs:label "executor"@en ;
	rdfs:label "исполнитель"@ru ;
	rdfs:domain v-wf:Task ;
	rdfs:range v-wf:ExecutorDefinition ;
	rdfs:range v-s:Appointment ;
	rdfs:range v-s:Codelet ;
.
v-wf:executorExpression
	rdf:type rdf:Property ;
	rdfs:label "executor choice expression"@en ;
	rdfs:label "выражение выбора исполнителя"@ru ;
	rdfs:domain v-wf:ExecutorDefinition ;
	rdfs:range xsd:string ;
.
v-wf:NetTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса Сеть"@ru ;
  rdfs:label "Template for Net class"@en ;
  v-ui:forClass v-wf:Net ;
  v-ui:embedded "false"^^xsd:boolean ;
  v-ui:template """
<div class="container workflow-wrapper" style="">
	<div class="row">
		<div class="col-md-3" style="text-align: center;">
			<div class="btn-group"
				style="padding-top: 3px; padding-bottom: 30px; display: inline-block;">
				<button type="button" class="btn btn-default create-state"
					aria-label="Left Align">
					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
				</button>
				<button type="button" class="btn btn-default"
					aria-label="Center Align">
					<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
				</button>
				<button type="button" class="btn btn-default"
					aria-label="Right Align">
					<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
				</button>
			</div>
			<form id="selected-item" class="form-horizontal">
				<div class="form-group">
					<div class="col-sm-2" style="margin-top: 7px;">ID</div>
					<div class="col-sm-10">
						<input id="item-id" class="form-control" type="text" readonly />
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-2">
						<span class="glyphicon glyphicon-pencil control-label"></span>
					</div>
					<div class="col-sm-10">
						<input id="item-caption" class="form-control" type="text" />
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-2">
						<span class="glyphicon glyphicon-tag control-label"></span>
					</div>
					<div class="col-sm-10">
						<input id="item-label" class="form-control" type="text" />
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-2">
						<span class="glyphicon glyphicon-log-out control-label"></span>
					</div>
					<div class="col-sm-10">
						<div id="split-buttons" class="btn-group" data-toggle="buttons">
							<label class="btn btn-default active"> 
								<input type="radio" name="item-split-type" value="no" checked>NO
							</label> 
							<label class="btn btn-default"> 
								<input type="radio" name="item-split-type" value="and">AND
							</label> 
							<label class="btn btn-default"> 
								<input type="radio" name="item-split-type" value="xor">XOR
							</label> 
							<label class="btn btn-default"> 
								<input type="radio" name="item-split-type" value="or">OR
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-2">
						<span class="glyphicon glyphicon-log-in control-label"></span>
					</div>
					<div class="col-sm-10">
						<div id="join-buttons" class="btn-group" data-toggle="buttons">
							<label class="btn btn-default active"> 
								<input type="radio" name="item-join-type" value="no" checked>NO
							</label> 
							<label class="btn btn-default"> 
								<input type="radio" name="item-join-type" value="and">AND
							</label> 
							<label class="btn btn-default"> 
								<input type="radio" name="item-join-type" value="xor">XOR
							</label> 
							<label class="btn btn-default"> 
								<input type="radio" name="item-join-type" value="or">OR
							</label>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div id="workflow-canvas-wrapper" class="col-md-9 workflow">
			<div id="workflow-canvas">
			</div>
		</div>
	</div>	
</div>
<script type="text/javascript">
    var workflow;
    // Create a new workflow instance as workflow1
    workflow = new jsWorkflow.Instance();

    // Initialize workflow1 with workflow container id
    workflow.init('workflow-canvas');
    
    applyNetEditorFunctions();
</script>
  """ ;
.
# ---------------------------- Complete Type --------------------------------------------
v-wf:CompleteType
	rdf:type owl:Class ;
	rdfs:label "complete type"@en ;
	rdfs:label "виды завершения"@ru ;
.
v-wf:Normal
	rdf:type v-wf:CompleteType ;
	rdfs:label "Normal" ;
.
v-wf:Fail
	rdf:type v-wf:CompleteType ;
	rdfs:label "Fail" ;
.
v-wf:Force
	rdf:type v-wf:CompleteType ;
	rdfs:label "Force" ;
.
# ---------------------------- Net Instance --------------------------------------------
v-wf:Process
        rdf:type owl:Class ;
        rdfs:label "Process"@en ;
        rdfs:label "Процесс"@ru ;
.

v-wf:instanceOf
	rdf:type rdf:Property ;
	rdfs:label "instance of"@en ;
	rdfs:label "экземпляр сети"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:Net ;
.
v-wf:whoLaunched
	rdf:type rdf:Property ;
	rdfs:label "who launched"@en ;
	rdfs:label "кто запустил"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-s:Appointment ;
.
v-wf:whenLaunched
	rdf:type rdf:Property ;
	rdfs:label "when launched"@en ;
	rdfs:label "когда запустили"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range xsd:dateTime ;
.
v-wf:ready
	rdf:type rdf:Property ;
	rdfs:label "ready to run"@en ;
	rdfs:label "готов к запуску"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range xsd:boolean ;
.
v-wf:complete
	rdf:type rdf:Property ;
	rdfs:label "complete"@en ;
	rdfs:label "завершен"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:CompleteType ;
.

v-wf:inputVariable
	rdf:type rdf:Property ;
	rdfs:label "input variable"@en ;
	rdfs:label "входная переменная"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:Variable ;
.
v-wf:outputVariable
	rdf:type rdf:Property ;
	rdfs:label "output variable"@en ;
	rdfs:label "выходная переменная"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:Variable ;
.
v-wf:localVariable
	rdf:type rdf:Property ;
	rdfs:label "local variable"@en ;
	rdfs:label "локальная переменная"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:Variable ;
.
v-wf:inputOutputVariable
	rdf:type rdf:Property ;
	rdfs:label "input/output variable"@en ;
	rdfs:label "входная / выходная переменная"@ru ;
	rdfs:domain v-wf:Process ;
	rdfs:range v-wf:Variable ;
.
# ---------------------------- Work Instance --------------------------------------------

v-wf:WorkItem
        rdf:type owl:Class ;
        rdfs:label "Work Item"@en ;
        rdfs:label "Рабочий экземпляр"@ru ;
.

# --- ui template ---
v-wf:process_template_1
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон стартовых данных маршрута"@ru ;
  rdfs:label "Process template"@en ;
  v-ui:forClass v-wf:Process ;
  v-ui:template """
  <div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-md-6">
	        <span about="v-wf:Process" property="rdfs:label">Процесс</span>
  	      </div>  
          <div class="col-md-6 text-right text-muted">
                <a href="id"><span property="id">ID</span></a>
	      </div>  
	    </div>
      </div>
      <div class="panel-body">
        <h3 property="rdfs:label">Наименование</h3>
        <hr />
        <div class="row">
          <div class="col-md-12">
               <strong about="v-wf:instanceOf" property="rdfs:label" class="text-muted">экземпляр сети</strong>
               <div rel="v-wf:instanceOf">Экземпляр сети</div>
          </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-12">
               <strong class="text-muted" about="v-wf:inputVariable" property="rdfs:label">Входные переменные</strong>
               <div rel="v-wf:inputVariable" template="v-wf:VariableTemplate">v-wf:VariableTemplate</div>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-12">
               <strong class="text-muted" about="v-wf:localVariable" property="rdfs:label">Локальные переменные</strong>
               <div rel="v-wf:localVariable" template="v-wf:VariableTemplate">v-wf:VariableTemplate</div>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-12">
               <strong class="text-muted" about="v-wf:outputVariable" property="rdfs:label">Выходные переменные</strong>
               <div rel="v-wf:outputVariable" template="v-wf:VariableTemplate">v-wf:VariableTemplate</div>
            </div>
        </div>
      </div>
      <div class="panel-footer">
        <button type="button" class="action btn btn-primary" id="edit" i18n="[Edit]">Редактировать</button>
        <button type="button" class="action btn btn-success" id="save" i18n="[Save]">Сохранить</button>
        <button type="button" class="action btn btn-default" id="cancel" i18n="[Cancel]">Отмена</button>
      </div>
    </div>
  </div>
  """ ;
.
v-wf:VariableTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон класса Переменная"@ru ;
  rdfs:label "Variable template"@en ;
  v-ui:forClass v-wf:Variable ;
  v-ui:embedded "true"^^xsd:boolean ;  
  v-ui:template """
<div class="well well-sm">
  <div class="row">
    <div class="col-md-6">
      <strong class="text-muted" about="v-wf:variableName" property="rdfs:label">Имя</strong>
      <div property="v-wf:variableName">Var1</div>
    </div>
    <div class="col-md-6">
      <strong class="text-muted" about="v-wf:variableValue" property="rdfs:label">Значение</strong>
      <div rel="v-wf:variableValue">Value1</div>
    </div>
  </div>
</div>
  """ ;
.
# --------------------------- Start Form ---------------------------
v-wf:StartForm
	rdf:type rdfs:Class ;
	rdfs:label "Стартовая форма"@ru ;
	rdfs:label "Start form"@en ;
.
v-wf:processed_document
	rdf:type rdf:Property ;
	rdfs:label "Обрабатываемый документ"@ru ;
	rdfs:label "Processed document"@en ;
	rdfs:domain mnd-wf:StartForm ;
	rdfs:range v-s:Document ;
.
v-wf:process_initiator
	rdf:type rdf:Property ;
	rdfs:label "Инициатор процесса"@ru ;
	rdfs:label "Process initiator"@en ;
	rdfs:domain mnd-wf:StartForm ;
	rdfs:range v-s:Appointment ;
.
v-wf:for_net
	rdf:type rdf:Property ;
	rdfs:label "Для сети..."@ru ;
	rdfs:label "For net..."@en ;
	rdfs:domain mnd-wf:StartForm ;
	rdfs:range v-wf:Net ;
.
# --------------------------- Decomposition ---------------------------
v-wf:Decomposition
	rdf:type rdfs:Class ;
	rdfs:label "Декомпозиция"@ru ;
	rdfs:label "Decomposition"@en ;
.
v-wf:for_net
	rdf:type rdf:Property ;
	rdfs:label "Для сети..."@ru ;
	rdfs:label "For net..."@en ;
	rdfs:domain mnd-wf:Decomposition ;
	rdfs:range v-wf:Net ;
.
v-wf:for_form
	rdf:type rdf:Property ;
	rdfs:label "Для сети..."@ru ;
	rdfs:label "For net..."@en ;
	rdfs:domain mnd-wf:Decomposition ;
	rdfs:range v-wf:StartForm ;
.
v-wf:startingMapping
	rdf:type rdf:Property ;
	rdfs:label "starting mapping"@en ;
	rdfs:label "стартовое преобразование"@ru ;
	rdfs:domain mnd-wf:Decomposition ;
	rdfs:range v-wf:Mapping ;
.
