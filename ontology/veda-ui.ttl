@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-wf: <http://semantic-machines.com/veda/veda-workflow/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix td: <http://semantic-machines.com/veda/test-data/> .
@prefix d: <http://semantic-machines.com/veda/veda-data/> .

@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
<http://semantic-machines.com/veda/veda-ui>
  rdf:type owl:Ontology ;
  rdfs:label "Veda system user interface ontology"@en ;
  rdfs:label "Онтология пользовательского интерфейса системы Веда"@ru ;
#  owl:versionInfo "3.4" ;
  v-s:loadPriority 8 ;
.
v-ui:AvailableLanguage
  rdf:type rdfs:Resource ;
  rdf:value v-ui:EN, v-ui:RU ;
  rdfs:label "Available language"@en ;
  rdfs:label "Доступный язык"@ru ;
.
v-ui:DefaultLanguage
  rdf:type rdfs:Resource ;
  rdf:value v-ui:RU ;
  rdfs:label "Default language"@en ;
  rdfs:label "Язык по-умолчанию"@ru ;
.
v-ui:EN
  rdf:type v-ui:Language ;
  rdfs:label "Eng"^^xsd:string ;
  rdf:value "EN" ;
.
v-ui:RU
  rdf:type v-ui:Language ;
  rdfs:label "Рус"^^xsd:string ;
  rdf:value "RU" ;
.
v-ui:preferredLanguage
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:Preferences ;
  rdfs:label "Preferred language"@en ;
  rdfs:label "Предпочитаемый язык"@ru ;
  rdfs:range v-ui:Language ;
.
v-ui:forClass
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ClassTemplate ;
  rdfs:domain v-s:ClassModel ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "For class"@en ;
  rdfs:label "Для класса"@ru ;
  rdfs:range owl:Class ;
.
v-ui:forProperty
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "For property"@en ;
  rdfs:label "Для свойства"@ru ;
  rdfs:range owl:DatatypeProperty, owl:ObjectProperty, rdf:Property ;
.
v-ui:hasTemplate
  rdf:type owl:ObjectProperty ;
  rdfs:domain owl:Class ;
  rdfs:domain rdfs:Class ;
  rdfs:label "Has template"@en ;
  rdfs:label "Имеет шаблон"@ru ;
  rdfs:range v-ui:ClassTemplate ;
.
v-ui:hasModel
  rdf:type owl:ObjectProperty ;
  rdfs:domain owl:Class ;
  rdfs:domain rdfs:Class ;
  rdfs:label "Has model"@en ;
  rdfs:label "Имеет модель"@ru ;
  rdfs:range v-s:ClassModel ;
.
v-ui:template
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:ClassTemplate ;
  rdfs:label "Template"@en ;
  rdfs:label "Шаблон"@ru ;
  rdfs:range xsd:string ;
.
v-ui:ClassTemplate
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:label "Template"@en ;
  rdfs:label "Шаблон"@ru ;
.
v-ui:PropertySpecification
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:label "Property specification"@en ;
  rdfs:label "Спецификация свойства"@ru ;
.
v-ui:tooltip
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Подсказка"@ru ;
  rdfs:label "Tooltip"@en ;
  rdfs:range xsd:string ;
.
v-ui:alternativeName
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Альтернативное наименование предиката"@ru ;
  rdfs:label "Alternative name for predicate"@en ;
  rdfs:range xsd:string ;
.
v-ui:placeholder
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Заполнитель"@ru ;
  rdfs:label "Placeholder"@en ;
  rdfs:range xsd:string ;
.
v-ui:minCardinality
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Минимальная кардинальность"@ru ;
  rdfs:label "Minimal cardinality"@en ;
  rdfs:comment "Значений меньше чем требуется"@ru ;
  rdfs:comment "Less values than required"@en ;
  rdfs:range xsd:integer ;
.
v-ui:maxCardinality
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Максимальная кардинальность"@ru ;
  rdfs:label "Maximal cardinality"@en ;
  rdfs:comment "Значений больше чем требуется"@ru ;
  rdfs:comment "More values than required"@en ;
  rdfs:range xsd:integer ;
.
v-ui:defaultValue
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Значение по-умолчанию"@ru ;
  rdfs:label "Default value"@en ;
  rdfs:range rdfs:Resource ;
.
v-ui:optionValue
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:PropertySpecification ;
  rdfs:label "Допустимое значение"@ru ;
  rdfs:label "Option value"@en ;
  rdfs:range rdfs:Resource ;
.
v-ui:DatatypePropertySpecification
  rdf:type owl:Class ;
  rdfs:subClassOf v-ui:PropertySpecification ;
  rdfs:label "Datatype property specification"@en ;
  rdfs:label "Спецификация литерального свойства"@ru ;
.
v-ui:regexp
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:DatatypePropertySpecification ;
  rdfs:label "Регулярное выражение"@ru ;
  rdfs:label "Regular expression"@en ;
  rdfs:comment "Значение не соответствует регулярному выражению"@ru ;
  rdfs:comment "Value does not match the regular expression"@en ;
  rdfs:range xsd:string ;
.
v-ui:minValue
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:DatatypePropertySpecification ;
  rdfs:label "Минимальное значение"@ru ;
  rdfs:label "Minimal value"@en ;
  rdfs:comment "Значение меньше минимума"@ru ;
  rdfs:comment "Value is less than minimum"@en ;
  rdfs:range rdfs:Resource ;
.
v-ui:maxValue
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:DatatypePropertySpecification ;
  rdfs:label "Максимальное значение"@ru ;
  rdfs:label "Maximal value"@en ;
  rdfs:comment "Значение больше максимума"@ru ;
  rdfs:comment "Value is greater than maximum"@en ;
  rdfs:range rdfs:Resource ;
.
v-ui:minLength
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:DatatypePropertySpecification ;
  rdfs:label "Минимальная длина строки"@ru ;
  rdfs:label "Minimal string length"@en ;
  rdfs:comment "Длина строки меньше допустимой"@ru ;
  rdfs:comment "String length is less than allowed"@en ;
  rdfs:range xsd:integer ;
.
v-ui:maxLength
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:DatatypePropertySpecification ;
  rdfs:label "Максимальная длина строки"@ru ;
  rdfs:label "Maximal string length"@en ;
  rdfs:comment "Длина строки больше допустимой"@ru ;
  rdfs:comment "String length is greater than allowed"@en ;
  rdfs:range xsd:integer ;
.
v-ui:ObjectPropertySpecification
  rdf:type owl:Class ;
  rdfs:subClassOf v-ui:PropertySpecification ;
  rdfs:label "Object property specification"@en ;
  rdfs:label "Спецификация объектного свойства"@ru ;
.
v-ui:rangeRestriction
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Ограничение области значений"@ru ;
  rdfs:label "Range restriction"@en ;
  rdfs:range owl:Class ;
  rdfs:range rdfs:Class ;
.
v-ui:queryPrefix
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Префикс запроса"@ru ;
  rdfs:label "Query prefix"@en ;
  rdfs:range xsd:string ;
.
v-ui:sort
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Сортировка"@ru ;
  rdfs:label "Sorting"@en ;
  rdfs:range xsd:string ;
.
v-ui:treeRoot
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Корень"@ru ;
  rdfs:label "Root"@en ;
  rdfs:range rdfs:Resource ;
.
v-ui:treeInProperty
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Входящая ветвь"@ru ;
  rdfs:label "In edge"@en ;
  rdfs:range owl:ObjectProperty ;
.
v-ui:treeOutProperty
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Исходящая ветвь"@ru ;
  rdfs:label "Out edge"@en ;
  rdfs:range owl:ObjectProperty ;
.
v-ui:treeAllowedClass
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Разрешенный класс"@ru ;
  rdfs:label "Allowed class"@en ;
  rdfs:range owl:Class ;
  rdfs:range rdfs:Class ;
.
v-ui:treeSelectableClass
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Выбираемый класс"@ru ;
  rdfs:label "Selectable class"@en ;
  rdfs:range owl:Class ;
  rdfs:range rdfs:Class ;
.
v-ui:treeSelectableFilter
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Фильтр выбираемых субъектов"@ru ;
  rdfs:label "Selectable filter"@en ;
  rdfs:range xsd:string ;
.
v-ui:treeDisplayedProperty
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-ui:ObjectPropertySpecification ;
  rdfs:label "Отображаемое свойство"@ru ;
  rdfs:label "Displayed property"@en ;
  rdfs:range owl:ObjectProperty ;
  rdfs:range owl:DatatypeProperty ;
.
v-ui:Language
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:label "Language"@en ;
  rdfs:label "Язык"@ru ;
.
v-ui:Preferences
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:subClassOf v-s:Embedded ;
  rdfs:label "Preferences"@en ;
  rdfs:label "Предпочтения"@ru ;
.
v-ui:hasPreferences
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-s:Person ;
  rdfs:label "Preferences"@en ;
  rdfs:label "Предпочтения"@ru ;
  rdfs:range v-ui:Preferences ;
.
v-ui:displayedElements
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-ui:Preferences ;
  rdfs:label "Отображать элементов"@ru ;
  rdfs:label "Display elements"@en ;
  rdfs:range xsd:nonNegativeInteger ;
.

# --------------- System properties template ------------------

v-ui:SystemPropertiesTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с набором системных свойств"@ru ;
  rdfs:label "Template with system properties"@en ;
  v-ui:template """
<div>
  <h3 about="v-s:SystemProperties" property="rdfs:label"></h3>
  <div class="row">
    <div class="col-md-3 col-xs-6">
      <em about="v-s:creator" property="rdfs:label"></em>
      <veda-control data-type="link" rel="v-s:creator" class="-view -edit search fulltext dropdown"></veda-control>
      <div about="@" rel="v-s:creator" data-template="v-ui:LabelTemplate" class="view edit -search"></div>
      <div rel="v-s:creator" data-template="v-ui:LabelTemplate" class="-view -edit search"></div>
    </div>
    <div class="col-md-3 col-xs-6">
      <em about="v-s:created" property="rdfs:label"></em>
      <veda-control property="v-s:created" data-type="datetime" class="-view -edit search"></veda-control>
      <div about="@" property="v-s:created" class="view edit -search"></div>
      <div property="v-s:created" class="-view -edit search"></div>
    </div>
    <div class="col-md-3 col-xs-6">
      <em about="v-s:lastEditor" property="rdfs:label"></em>
      <veda-control data-type="link" rel="v-s:lastEditor" class="-view -edit search fulltext dropdown"></veda-control>
      <div about="@" rel="v-s:lastEditor" data-template="v-ui:LabelTemplate" class="view edit -search"></div>
      <div rel="v-s:lastEditor" data-template="v-ui:LabelTemplate" class="-view -edit search"></div>
    </div>
    <div class="col-md-3 col-xs-6">
      <em about="v-s:edited" property="rdfs:label"></em>
      <veda-control data-type="datetime" rel="v-s:edited" class="-view -edit search"></veda-control>
      <div about="@" property="v-s:edited" class="view edit -search"></div>
      <div property="v-s:edited" class="-view -edit search"></div>
    </div>
  </div>
</div>
""" ;
.
v-ui:VersionTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса v-s:Version"@ru ;
  rdfs:label "Template for class v-s:Version"@en ;
  v-ui:forClass v-s:Version ;
  v-ui:template "" ;
.
v-ui:VersionedTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для отображения версий объекта"@ru ;
  rdfs:label "Template for versions display"@en ;
  v-ui:template """
<div>
  <h3 about="v-s:Versions" property="rdfs:label"></h3>
  <div class="panel panel-default">
    <table class="table table-condensed">
      <thead>
        <tr>
          <th width="1%">#</th>
          <th about="rdfs:label" property="rdfs:label"></th>
          <th about="v-s:created" property="rdfs:label"></th>
          <th about="v-s:creator" property="rdfs:label"></th>
        </tr>
      </thead>
      <tbody id="versions"></tbody>
      <tfoot>
        <tr>
          <td colspan="10" class="clearfix">
            <button class="pull-left btn btn-xs btn-primary glyphicon glyphicon-chevron-down"></button>
            <div class="pull-right">
              <span class="bg-info" style="padding:0px 5px;display: inline-block">Актуальная версия</span>
              <strong>Текущая версия</strong>
            </div>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>
<script>
  var actual = individual["v-s:actualVersion"][0];
  if (!actual) { return; }
  var tmpl = ''
    + '<tr>'
      + '<td>#</td>'
      + '<td about="@" data-template="v-ui:LabelLinkTemplate" class="view edit -search"></td>'
      + '<td about="@" property="v-s:created" class="view edit -search"></td>'
      + '<td about="@" rel="v-s:creator" data-template="v-ui:LabelTemplate" class="view edit -search"></td>'
    + '</tr>';
  var tbody = $("#versions", template);
  var btn = $("button", template).click(function () {
    tbody.empty();
    renderVersion(actual, 1, -1);
  });
  renderVersion(actual, 1, 5);
  function renderVersion(current, counter, limit) {
    if (!current) { return btn.remove(); }
    if (!limit) { return; }
    var previous = current["v-s:previousVersion"][0];
    var row = tmpl.replace("#", counter);
    if (current.id === actual.id) { row = row.replace("<tr>", "<tr class='info'>"); }
    if (current.id === individual.id) { row = row.replace(/td/g, "th").replace("v-ui:LabelLinkTemplate", "v-ui:LabelTemplate"); }
    if (current.hasValue("v-s:nextVersion") && current["v-s:nextVersion"][0].id === actual.id) {
      renderVersion(previous, counter, limit);
    } else {
      current.present(tbody, row);
      renderVersion(previous, ++counter, --limit);
    }
  }
  //# sourceURL=v-ui:VersionedTemplate
</script>
""" ;
.

# ---------------- Link template -----------------

v-ui:PSHasLinkThing
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойства v-s:hasLink для класса v-s:Thing"@ru ;
  rdfs:label "Specification v-s:hasLink for v-s:Thing class"@en ;
  v-ui:forClass v-s:Thing ;
  v-ui:forProperty v-s:hasLink ;
  v-ui:minCardinality 0 ;
  v-ui:maxCardinality 100 ;
.
v-ui:PSFromToForLink
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойств from to для класса v-s:Link"@ru ;
  rdfs:label "Specification from to for v-s:Link class"@en ;
  v-ui:forClass v-s:Link ;
  v-ui:forProperty v-s:from, v-s:to ;
  v-ui:minCardinality 1 ;
  v-ui:maxCardinality 1 ;
#  v-ui:queryPrefix "('rdf:type'=='v-s:Person')"^^xsd:string ;
.
v-ui:LinkTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон со связью"@ru ;
  rdfs:label "Template with link"@en ;
  v-ui:template """
<div>
  <!--h3 about="v-s:hasLink" property="rdfs:label"></h3>
  <div class="row" rel="v-s:hasLink" data-embedded="true">
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-body">
          <em about="rdfs:comment" property="rdfs:label" class="-view edit search"></em>
          <veda-control data-type="string" property="rdfs:comment" class="-view edit search"></veda-control>
          <br class="-view edit search">
          <em about="v-s:hasLink" property="rdfs:label" class="-view edit search"></em>
          <veda-control data-type="link" rel="v-s:to" class="-view edit search fullsearch fulltext"></veda-control>
          <span rel="v-s:from" data-template="v-ui:ClassNameLabelLinkTemplate" class="view -edit -search"></span>
          <div class="view -edit -search">
            <span class="fa fa-long-arrow-down"></span> <strong property="rdfs:comment" class="view -edit -search"></strong>
          </div>
          <span rel="v-s:to" data-template="v-ui:ClassNameLabelLinkTemplate" class="view -edit -search"></span>
          <div class="view -edit -search" style="font-style:italic">
            <small property="v-s:creator"></small><small property="v-s:created"></small>
          </div>
        </div>
      </div>
    </div>
  </div>
  <veda-control data-type="link" rel="v-s:hasLink" class="-view edit search create"></veda-control-->
</div>
<script>
  individual.on("individual:propertyModified", handler);
  template.on("remove", function () {
    individual.off("individual:propertyModified", handler);
  });
  function handler (property_uri, values) {
    if (property_uri === "v-s:hasLink" && values.length !== 0) {
      values.map(function (item) {
        if (!item.hasValue("v-s:from")) {
          item["v-s:from"] = [individual];
        }
      });
    }
  }
  //# sourceURL=v-ui:LinkTemplate
</script>
""" ;
.



v-ui:IconPersonTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон персоны с иконкой"@ru ;
  rdfs:label "Person template with icon"@en ;
  v-ui:template """
<a href="#/@">
  <span class="glyphicon glyphicon-user"></span>
  <span about="@" property="rdfs:label"></span>
</a>
""" ;
.

v-ui:ImageAppointmentTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон персоны с иконкой"@ru ;
  rdfs:label "Person template with icon"@en ;
  v-ui:template """
<div class="panel panel-default" style="word-wrap:break-word;display:inline-block;margin:7px 7px 0 0;overflow:hidden; max-width:200px; height:125px">
  <div class="panel-body" style="padding:7px;">
    <div about="@" rel="v-s:employee">
      <script>
        individual.hasValue("v-s:hasImage") ? $(".no-image", template).remove() : $(".has-image", template).remove() ;
        //# sourceURL=v-ui:ImageAppointmentTemplate_pre
      </script>
      <div style="width:50px">
        <div class="has-image" about="@" rel="v-s:hasImage" data-template="v-ui:ImageSimpleTemplateWithoutBorder"></div>
        <div class="no-image"><span class="text-muted fa fa-user fa-4x"></span></div>
      </div>
    </div>
    <strong rel="v-s:employee" data-template="v-ui:LabelTemplate"></strong><br>
    <small rel="v-s:occupation" data-template="v-ui:LabelTemplate"></small>
  </div>
</div>
""" ;
.

v-ui:PersonAppointmentTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон персоны с выбором назначения"@ru ;
  rdfs:label "Person template with appointment select"@en ;
  v-ui:template """
  <div>
    <veda-control data-type="link" rel="v-s:defaultAppointment" class="fulltext dropdown" data-template="{individual['v-s:occupation'][0]['rdfs:label'].join(', ')}"></veda-control>
  </div>
""" ;
.
v-ui:PS_PersonDefaultAppointment
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация назначения по-умолчанию для класса Персона"@ru ;
  rdfs:label "Default appointment property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:defaultAppointment ;
  v-ui:queryPrefix "('rdf:type'==='v-s:Appointment' && 'v-s:employee'=='{individual.id}' && 'v-s:official'=='true')"^^xsd:string ;
  v-ui:minCardinality "0"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
v-ui:ClassTemplateTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса -Шаблон класса-"@ru ;
  rdfs:label "Template for -Class template- class"@en ;
  v-ui:forClass v-ui:ClassTemplate ;
  v-ui:template """
<div class="container-fluid">
  <em about="rdfs:label" property="rdfs:label" class="-view edit search"></em>
  <h3><span property="rdfs:label"></span> <span class="badge" property="@"></span></h3>
  <veda-control property="rdfs:label" data-type="multilingualString" class="-view edit search"></veda-control>
  <br class="-view edit search">
  <em about="rdfs:comment" property="rdfs:label" class="-view edit search"></em>
  <div><em property="rdfs:comment"></em></div>
  <veda-control property="rdfs:comment" data-type="multilingualString" class="-view edit search"></veda-control>
  <br class="-view edit search">
  <em about="v-ui:forClass" property="rdfs:label"></em>
  <div rel="v-ui:forClass" data-template="v-ui:ClassNameLabelLinkTemplate"></div>
  <veda-control rel="v-ui:forClass" data-type="link" class="-view edit search fullsearch fulltext dropdown"></veda-control>
  <br>
  <veda-control property="v-ui:template" data-type="source"></veda-control>
  <br>
  <div class="well well-sm">
    <button type="button" class="action btn btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label"/>
    <button type="button" class="action btn btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label"/>
    <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
    <button type="button" class="action btn btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label"/>
  </div>
</div>
  """ ;
.

v-ui:PsForClassSpec
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация типа для класса Resource"@ru ;
  rdfs:label "Type specification for Resource class"@en ;
  v-ui:forClass v-ui:ClassTemplate ;
  v-ui:forProperty v-ui:forClass ;
  v-ui:tooltip "Ссылка на объект типа Класс."@ru ;
  v-ui:tooltip "Link to object of type Class"@en ;
  v-ui:queryPrefix "('rdf:type'=='owl:Class' || 'rdf:type'=='rdfs:Class')"^^xsd:string ;
.

v-ui:ResourceTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса -Ресурс-"@ru ;
  rdfs:label "Template for -Resource- class"@en ;
  v-ui:forClass rdfs:Resource ;
  v-ui:template """
<div class="panel panel-default">
  <div class="panel-heading">
    <div class="row">
      <div class="col-md-4 className">
      <span about="rdfs:Resource" property="rdfs:label"></span></div>
      <div class="col-md-8 text-right">
        <a href="#/@"><span property="@"></span></a>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3 col-xs-5 text-right">
          <em about="rdf:type" property="rdfs:label"></em>
        </div>
        <div class="col-md-9 col-xs-7">
          <div rel="rdf:type" data-template="v-ui:LabelTemplate"></div>
          <veda-control rel="rdf:type" data-type="link" data-template="v-ui:LabelTemplate" class="-view edit search fulltext dropdown"></veda-control>
        </div>
      </div>
      <hr class="margin-sm">
      <div class="row">
        <div class="col-md-3 col-xs-5 text-right">
          <em about="rdfs:label" property="rdfs:label"></em>
        </div>
        <div class="col-md-9 col-xs-7">
          <span property="rdfs:label"></span>
          <veda-control property="rdfs:label" data-type="multilingualString" class="-view edit search"></veda-control>
        </div>
      </div>
      <hr class="margin-sm">
      <div class="row">
        <div class="col-md-3 col-xs-5 text-right">
          <em about="rdfs:comment" property="rdfs:label"></em>
        </div>
        <div class="col-md-9 col-xs-7">
          <div property="rdfs:comment"></div>
          <veda-control property="rdfs:comment" class="-view edit search" data-type="multilingualString"></veda-control>
        </div>
      </div>
    </div>
  </div>
  <div class="panel-footer">
    <button type="button" class="action btn btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label"/>
    <button type="button" class="action btn btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label"/>
    <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
    <button type="button" class="action btn btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label"/>
  </div>
</div>
  """ ;
.

v-ui:ResourceSpec
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация типа для класса Resource"@ru ;
  rdfs:label "Type specification for Resource class"@en ;
  v-ui:forClass rdfs:Resource ;
  v-ui:forProperty rdf:type ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "10"^^xsd:integer ;
  v-ui:tooltip "Обязательно к заполнению, единственное значение. Ссылка на объект типа Класс."@ru ;
  v-ui:tooltip "Required, single value. Link to object of type Class"@en ;
  v-ui:queryPrefix "('rdf:type'=='owl:Class' || 'rdf:type'=='rdfs:Class')"^^xsd:string ;
.

v-ui:LabelTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с меткой"@ru ;
  rdfs:label "Template with label"@en ;
  v-ui:template """
  <span about="@" property="rdfs:label"></span>
  <script>
    if (!individual.hasValue("rdfs:label")) {
      template.text(individual.id);
    }
    template.css({
      "display": "inline-block",
      "margin-right": "7px"
    });
    //# sourceURL=v-ui:LabelTemplate
  </script>
  """ ;
.
v-ui:LabelTemplateWithEditLink
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с меткой и ссылкой на страницу редактирования"@ru ;
  rdfs:label "Template with label & edit link"@en ;
  v-ui:template """
  <span>
    # <a href="#/@///edit"><span id="label" property="rdfs:label"></span></a>
  </span>
  <script>
    if (!individual.hasValue("rdfs:label")) {
      $("#label", template).text(individual.id);
    }
    //# sourceURL=v-ui:LabelTemplateWithEditLink
  </script>
  """ ;
.
v-ui:LabelLinkTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с меткой и ссылкой"@ru ;
  rdfs:label "Template with label & link"@en ;
  v-ui:template """
  <a href="#/@"><span property="rdfs:label"></span></a>
  <script>
    if (!individual.hasValue("rdfs:label")) {
      template.text(individual.id);
    }
    //# sourceURL=v-ui:LabelLinkTemplate
  </script>
  """ ;
.

v-ui:IconModalTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с меткой и ссылкой"@ru ;
  rdfs:label "Template with label & link"@en ;
  v-ui:template """
<a href="#" class="glyphicon glyphicon-zoom-in"></a>
<script>
  template.on("click", function (e) {
    e.preventDefault();
    var modal = $("#individual-modal-template").html();
    var $modal = $(modal).modal();
    $("body").append($modal);
    var cntr = $(".modal-body", $modal);
    var ok = $("#ok", $modal);
    cntr.on("valid", function () {
      ok.removeAttr("disabled");
    });
    cntr.on("invalid", function () {
      ok.attr("disabled", "disabled");
    });
    var newMode = "view";
    var parentTmpl = template.parent().closest("[resource]");
    if (parentTmpl.attr("resource") === individual.id) {
      newMode = parentTmpl.attr("data-mode");
    }
    individual.present(cntr, undefined, newMode);
    individual.one("individual:beforeReset", function () {
      $modal.modal("hide");
    });
    individual.one("individual:afterSave", function () {
      $modal.modal("hide");
    });
    template.on("remove", function () {
      $modal.modal("hide").remove();
    });
  });
  //# sourceURL=v-ui:IconModalTemplate
</script>
  """ ;
.

v-ui:LabelEmptyLinkTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон без имени класса, но с меткой (модальное окно)"@ru ;
  rdfs:label "Template without class name, with label (modal)"@en ;
  v-ui:template """
<a href="#" property="rdfs:label"></a>
<script>
  if (!individual.hasValue("rdfs:label")) {
    template.text(individual.id);
  }
  //# sourceURL=v-ui:LabelEmptyLinkTemplate
</script>
  """ ;
.
v-ui:LabelBlockLinkTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон без имени класса, но с меткой, блочный"@ru ;
  rdfs:label "Template without class name, with label, blocked"@en ;
  v-ui:template """
  <div><a id="label" href="#/@" property="rdfs:label"></a></div>
  <script>
    if (!individual.hasValue("rdfs:label")) {
      $("#label", template).text(individual.id);
    }
    //# sourceURL=v-ui:LabelBlockLinkTemplate
  </script>
  """ ;
.
v-ui:ClassNameLabelLinkTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с именем класса и меткой"@ru ;
  rdfs:label "Template with class name and label"@en ;
  v-ui:template """
  <span><a href="#/@"><span about="@" rel="rdf:type"><span about="@" property="rdfs:label"></span></span>: <span id="label" about="@" property="rdfs:label"></span></a></span>
  <script>
    if (!individual.hasValue("rdfs:label")) {
      $("#label", template).text(individual.id);
    }
    template.css({
      "display": "inline-block",
      "margin": "0 7px 7px 0"
    });
    //# sourceURL=v-ui:ClassNameLabelLinkTemplate
  </script>
  """ ;
.
v-ui:ClassNameLabelTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон с именем класса и меткой"@ru ;
  rdfs:label "Template with class name and label"@en ;
  v-ui:template """
  <span><span about="@" rel="rdf:type"><span about="@" property="rdfs:label"></span></span>: <span id="label" about="@" property="rdfs:label"></span></span>
  <script>
    if (!individual.hasValue("rdfs:label")) {
      $("#label", template).text(individual.id);
    }
    template.css({
      "display": "inline-block",
      "margin": "0 7px 7px 0"
    });
    //# sourceURL=v-ui:ClassNameLabelTemplate
  </script>
  """ ;
.
v-ui:SavedSearchTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса Сохраненный запрос"@ru ;
  rdfs:label "Template for Saved search class"@en ;
  v-ui:forClass v-s:SavedSearch ;
  v-ui:template """
  <div>
        <em about="rdfs:label" property="rdfs:label"></em>
        <div property="rdfs:label"></div>
        <div class="row">
          <div class="col-md-12">
               <em about="v-s:query" property="rdfs:label"></em>
               <div property="v-s:query"></div>
          </div>
        </div>
        <br/>
        <button type="button" class="action btn btn-sm btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label"/>
        <button type="button" class="action btn btn-sm btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label"/>
        <button type="button" class="action btn btn-sm btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
        <button type="button" class="action btn btn-sm btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label"/>
  </div>
  """ ;
.

####### TEST UI #######

v-ui:TestUIClass
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:SystemThing ;
  rdfs:label "Класс для тестирования интерфейса"@ru ;
  rdfs:label "Test UI class"@en ;
.

v-ui:testBoolean
  rdf:type owl:DatatypeProperty ;
  rdfs:label "Тестовое булево свойство"@ru ;
  rdfs:label "Test boolean property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range xsd:boolean ;
.
v-ui:testInteger
  rdf:type owl:DatatypeProperty ;
  rdfs:label "Тестовое целочисленное свойство"@ru ;
  rdfs:label "Test integer property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range xsd:integer ;
.
v-ui:testDecimal
  rdf:type owl:DatatypeProperty ;
  rdfs:label "Тестовое десятичное свойство"@ru ;
  rdfs:label "Test decimal property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range xsd:decimal ;
.
v-ui:testString
  rdf:type owl:DatatypeProperty ;
  rdfs:label "Тестовое текстовое свойство"@ru ;
  rdfs:label "Test string property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range xsd:string ;
.
v-ui:testDatetime
  rdf:type owl:DatatypeProperty ;
  rdfs:label "Тестовое календарное свойство"@ru ;
  rdfs:label "Test datetime property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range xsd:dateTime ;
.
v-ui:testLink
  rdf:type owl:ObjectProperty ;
  rdfs:label "Тестовое объектное свойство"@ru ;
  rdfs:label "Test object property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range rdfs:Resource ;
.
v-ui:testFile
  rdf:type owl:ObjectProperty ;
  rdfs:label "Тестовое файловое свойство"@ru ;
  rdfs:label "Test file property"@en ;
  rdfs:domain v-ui:TestUIClass ;
  rdfs:range v-s:File ;
.
v-ui:template
  rdfs:domain v-ui:TestUIClass ;
.
v-s:script
  rdfs:domain v-ui:TestUIClass ;
.
v-ui:SpecTestBoolean
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового булева свойства"@ru ;
  rdfs:label "Specification for test boolean property"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:forProperty v-ui:testBoolean ;
.
v-ui:SpecTestInteger
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового целочисленного свойства"@ru ;
  rdfs:label "Specification for test integer property"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:forProperty v-ui:testInteger ;
  v-ui:optionValue "1"^^xsd:integer ;
  v-ui:optionValue "2"^^xsd:integer ;
  v-ui:optionValue "3"^^xsd:integer ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
.
v-ui:SpecTestDecimal
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового десятичного свойства"@ru ;
  rdfs:label "Specification for test decimal property"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:forProperty v-ui:testDecimal ;
  v-ui:optionValue "1.1"^^xsd:string ;
  v-ui:optionValue "2.2"^^xsd:string ;
  v-ui:optionValue "3.3"^^xsd:string ;
.
v-ui:SpecTestString
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового текстового свойства"@ru ;
  rdfs:label "Specification for test string property"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:forProperty v-ui:testString ;
  v-ui:optionValue "Предопределенное значение 1"^^xsd:string ;
  v-ui:optionValue "Предопределенное значение 2"^^xsd:string ;
  v-ui:optionValue "Предопределенное значение 3"^^xsd:string ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
.
v-ui:SpecTestDatetime
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового календарного свойства"@ru ;
  rdfs:label "Specification for test datetime property"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:forProperty v-ui:testDatetime ;
  v-ui:optionValue "2011-01-02"^^xsd:dateTime ;
  v-ui:optionValue "2012-03-04"^^xsd:dateTime ;
  v-ui:optionValue "2013-05-06"^^xsd:dateTime ;
.
v-ui:SpecTestLink
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация тестового объектного свойства"@ru ;
  rdfs:label "Specification for test link property"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:forProperty v-ui:testLink ;
  v-ui:minCardinality "1"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
  v-ui:optionValue v-ui:SpecTestLink ;
  v-ui:optionValue v-ui:SpecTestDatetime ;
  v-ui:optionValue v-ui:SpecTestString ;
.
v-ui:TestUITemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Тестовый шаблон"@ru ;
  rdfs:label "Test UI template"@en ;
  v-ui:forClass v-ui:TestUIClass ;
  v-ui:template """
<div class="container-fluid">
  <div class="panel panel-warning">
    <div class="panel-heading">
      <div class="row">
        <div class="col-md-4">
          <span about="v-ui:TestUIClass" property="rdfs:label"></span>
        </div>
        <div class="col-md-8 text-right">
          <a href="#/@"><span property="@"></span></a>
        </div>
      </div>
    </div>
    <div class="panel-body">
      <em about="rdfs:label" property="rdfs:label" class="-view edit search"></em>
      <h3 property="rdfs:label"></h3>
      <veda-control property="rdfs:label" data-type="string" class="-view edit search"></veda-control>
      <br class="-view edit search">
      <em about="rdfs:comment" property="rdfs:label" class="-view edit search"></em>
      <div><em property="rdfs:comment"></em></div>
      <veda-control property="rdfs:comment" data-type="string" class="-view edit search"></veda-control>
      <br class="-view edit search">

      <div class="checkbox">
        <label>
          <veda-control property="v-ui:testBoolean" data-type="boolean"></veda-control>
          <em about="v-ui:testBoolean" property="rdfs:label"></em>
        </label>
      </div>
      <hr>

      <em about="v-ui:testString" property="rdfs:label"></em>
      <div property="v-ui:testString"></div>
      <veda-control property="v-ui:testString" data-type="string" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testString" data-type="multilingualString" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testString" data-type="text" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testString" data-type="multilingualText" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testString" data-type="select" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testString" data-type="checkbox" class="view edit search"></veda-control>
      <veda-control property="v-ui:testString" data-type="radio" class="view edit search"></veda-control>
      <hr>

      <em about="v-ui:testInteger" property="rdfs:label"></em>
      <div property="v-ui:testInteger"></div>
      <veda-control property="v-ui:testInteger" data-type="integer" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testInteger" data-type="select" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testInteger" data-type="checkbox"></veda-control>
      <veda-control property="v-ui:testInteger" data-type="radio"></veda-control>
      <hr>

      <em about="v-ui:testDecimal" property="rdfs:label"></em>
      <div property="v-ui:testDecimal"></div>
      <veda-control property="v-ui:testDecimal" data-type="decimal" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testDecimal" data-type="select" class="-view edit search"></veda-control>
      <hr>

      <em about="v-ui:testDatetime" property="rdfs:label"></em>
      <div property="v-ui:testDatetime" class="view -edit -search"></div>
      <veda-control property="v-ui:testDatetime" data-type="datetime" class="-view edit search"></veda-control>
      <veda-control property="v-ui:testDatetime" data-type="select" class="-view edit search"></veda-control>
      <hr>

      <em about="v-ui:testLink" property="rdfs:label"></em>
      <div rel="v-ui:testLink" data-template="v-ui:ClassNameLabelLinkTemplate"></div>
      <veda-control rel="v-ui:testLink" data-type="link" class="-view edit search full"></veda-control>
      <veda-control rel="v-ui:testLink" data-type="checkbox"></veda-control>
      <veda-control rel="v-ui:testLink" data-type="radio"></veda-control>
      <veda-control rel="v-ui:testLink" data-type="select" class="-view edit search"></veda-control>

      <!--hr>
      <em about="v-ui:template" property="rdfs:label"></em>
      <veda-control property="v-ui:template" data-type="source"></veda-control>
      <hr>
      <em about="v-s:script" property="rdfs:label"></em>
      <veda-control property="v-s:script" data-type="source"></veda-control-->

      <hr>
      <em about="v-ui:testFile" property="rdfs:label"></em>
      <div rel="v-ui:testFile" data-template="v-ui:FileTemplate" class="view edit -search"></div>
      <br>
      <veda-control rel="v-ui:testFile" data-type="file" class="-view edit -search"></veda-control>
    </div>
    <div class="panel-footer">
      <button type="button" class="action btn btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label"/>
      <button type="button" class="action btn btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label"/>
      <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label"/>
      <button type="button" class="action btn btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label"/>
    </div>
  </div>
</div>
  """ ;
.
v-ui:PsCommentFile
  rdf:type v-ui:PropertySpecification ;
  v-ui:forClass v-s:File ;
  v-ui:forProperty rdfs:comment ;
  v-ui:minCardinality "0"^^xsd:integer ;
  v-ui:maxCardinality "1"^^xsd:integer ;
.
v-ui:FileTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для файла"@ru ;
  rdfs:label "File template"@en ;
  v-ui:forClass v-s:File ;
  v-ui:template """
<div class="panel panel-default" style="word-wrap:break-word; display: inline-block; margin:5px 5px 0 0; overflow: hidden"">
  <div class="panel-body" style="padding:7px;">
    <span id="icon" class="label label-primary"></span>
    <a href="/files/@">
      <span about="@" property="v-s:fileName"></span>
    </a>
  </div>
</div>
<script>
  var fn = individual["v-s:fileName"][0],
    idx = fn.lastIndexOf("."),
    ext = fn.substr(idx + 1);
  $("span#icon", template).text(ext);
  //# sourceURL=v-ui:FileTemplate
</script>
  """ ;
.

v-ui:PSAttachmentThing
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойства v-s:attachment для класса v-s:Thing"@ru ;
  rdfs:label "Specification v-s:attachment for v-s:Thing class"@en ;
  v-ui:forClass v-s:Thing ;
  v-ui:forProperty v-s:attachment ;
  v-ui:minCardinality 0 ;
  v-ui:maxCardinality 100 ;
.

v-ui:FileTemplateWithComment
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для файла 2"@ru ;
  rdfs:label "File template 2"@en ;
  v-ui:forClass v-s:File ;
  v-ui:template """
<div class="panel panel-default" style="word-wrap:break-word; width:250px; display: inline-block; margin:0 20px 20px 0; overflow: hidden">
  <div class="panel-body">
    <em about="rdfs:comment" property="rdfs:label" class="-view edit search"></em>
    <strong property="rdfs:comment" class="view -edit -search"></strong>
    <veda-control data-type="string" property="rdfs:comment" class="-view edit search"></veda-control>
    <br>
    <hr class="margin-sm view -edit -search">
    <div>
      <span id="icon" class="label label-primary"></span>
      <a href="/files/@">
        <span about="@" property="v-s:fileName"></span>
      </a>
    </div>
    <div class="view -edit -search" style="font-style:italic">
      <small rel="v-s:creator" data-template="v-ui:LabelTemplate"></small><small property="v-s:created"></small>
    </div>
  </div>
</div>
<script>
  var fn = individual["v-s:fileName"][0];
  if (typeof fn === "string" || fn instanceof String) {
    var idx = fn.lastIndexOf("."),
    var ext = fn.substr(idx + 1);
    $("span#icon", template).text(ext);
  }
  //# sourceURL=v-ui:FileTemplateWithComment
</script>
  """ ;
.
v-ui:ImageTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для изображения"@ru ;
  rdfs:label "Image template"@en ;
  v-ui:template """
<div>
  <a href="/files/@"><img class="img-thumbnail"></a>
</div>
<script>
   $("img", template).attr("src", "/files/" + individual.id);
  //# sourceURL=v-ui:ImageTemplate
</script>
  """ ;
.
v-ui:ModalImageTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для изображения"@ru ;
  rdfs:label "Image template"@en ;
  v-ui:template """
<div>
  <a id="link" href="#"><img class="img-thumbnail"></a>
  <div class="modal" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <img width="100%">
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $("img", template).attr("src", "/files/" + individual.id);
  var modal;
  $("#link", template).click(function (e) {
    e.preventDefault();
    if (!modal) modal = $("#modal", template).modal();
    modal.modal("show");
  });
  //# sourceURL=v-ui:ModalImageTemplate
</script>
  """ ;
.
v-ui:ImageSimpleTemplateWithoutBorder
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для изображения"@ru ;
  rdfs:label "Image template"@en ;
  v-ui:template """
<img width="100%">
<script>
  template.attr("src", "/files/" + individual.id);
  //# sourceURL=v-ui:ImageSimpleTemplateWithoutBorder
</script>
  """ ;
.
v-ui:ImageSimpleTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для изображения без ссылки"@ru ;
  rdfs:label "Image template without link"@en ;
  v-ui:template """
<div>
  <img class="img-thumbnail">
</div>
<script>
  $("img", template).attr("src", "/files/" + individual.id);
  //# sourceURL=v-ui:ImageSimpleTemplate
</script>
  """ ;
.
v-ui:ImageSimpleTemplateTransparent
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для изображения без ссылки прозрачный фон"@ru ;
  rdfs:label "Image template without link transparent"@en ;
  v-ui:template """
<img width="100%">
<script>
  template.attr("src", "/files/" + individual.id);
  //# sourceURL=v-ui:ImageSimpleTemplateTransparent
</script>
  """ ;
.
v-ui:ImageTemplateTransparent
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для изображения со ссылкой прозрачный фон"@ru ;
  rdfs:label "Image template with link transparent"@en ;
  v-ui:template """
<div>
  <a href="/files/@"><img width="100%"></a>
</div>
<script>
  $("img", template).attr("src", "/files/" + individual.id);
  //# sourceURL=v-ui:ImageTemplateTransparent
</script>
  """ ;
.
v-ui:PsHasImage
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация изображения для класса Персона"@ru ;
  rdfs:label "Has image property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:hasImage ;
  v-ui:maxCardinality "1"^^xsd:integer ;
.
v-ui:TestUI
  rdf:type v-ui:TestUIClass ;
  rdfs:label "Индивид для тестирования интерфейса"@ru ;
  rdfs:label "Test UI individual"@en ;
  v-ui:testBoolean  "true"^^xsd:boolean ;
  v-ui:testString   "Тестовое значение строкового свойства"@ru ;
  v-ui:testString   "Test string property value"@en ;
  v-ui:testInteger  "999"^^xsd:integer ;
  v-ui:testDatetime "1945-05-09T21:00:00"^^xsd:dateTime ;
#  v-ui:testLink     v-ui:TestUIClass ;
  v-ui:testDecimal  "3.1415926"^^xsd:decimal ;
.

v-ui:JournalTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон журнала"@ru ;
  rdfs:label "Journal template"@en ;
  v-ui:forClass v-s:Journal ;
  v-ui:template """
<div class="container-fluid journal">
  <style>
    .journal-record > div > .sub-journal {margin-left: 5px; padding-left: 20px; border-left: 1px solid #ddd;}
    .journal hr.margin-sm {margin: 10px 0px;}
  </style>
  <h2 about="v-s:Journal" property="rdfs:label"></h2>
  <div rel="v-s:onDocument">
    <div>
      <h4>
        <span about="rdf:type" property="rdfs:label"></span>:
        <span about="@" data-template="v-ui:ClassNameLabelLinkTemplate"></span>
      </h4>
    </div>
  </div>
  <div rel="v-wf:onProcess">
    <div>
      <h4>
        <span about="rdf:type" property="rdfs:label"></span>:
        <span about="@" data-template="v-ui:ClassNameLabelLinkTemplate"></span>
      </h4>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="row">
        <div class="col-md-3 col-sm-3">
          <strong about="v-s:JournalRecord" property="rdfs:label"></strong>
        </div>
        <div class="col-md-7 col-sm-6">
          <strong about="v-s:description" property="rdfs:label"></strong>
        </div>
        <div class="col-md-2 col-sm-3 text-right">
          <strong about="v-s:created" property="rdfs:label"></strong>
        </div>
      </div>
    </div>
    <div class="panel-body">
      <div id="records">
        <div rel="v-s:childRecord"></div>
      </div>
    </div>
  </div>
</div>
  """ ;
.
v-ui:SubJournalTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон поджурнала"@ru ;
  rdfs:label "Subjournal template"@en ;
  v-ui:template """
<div class="sub-journal">
  <div rel="v-s:childRecord"></div>
</div>
  """ ;
.
v-ui:DocumentEventTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон события документа"@ru ;
  rdfs:label "Document event template"@en ;
  v-ui:forClass v-s:DocumentCreated, v-s:DocumentUpdated, v-s:DocumentDeleted, v-s:ProcessStarted, v-wf:ProcessStopped ;
  v-ui:template """
<div class="journal-record">
  <hr class="margin-sm">
  <div class="row">
    <div class="col-md-3 col-sm-3 event-type">
      <a id="exp" class="start-process" href="#" style="display:none"><span class="glyphicon glyphicon-chevron-down"></span> <strong rel="rdf:type" data-template="v-ui:LabelTemplate"></strong></a>
      <span class="non-start-process" rel="rdf:type" data-template="v-ui:LabelTemplate"></span>
    </div>
    <div class="col-md-3 col-sm-6 event-desc">
      <div property="rdfs:label"></div>
      <span class="actor">
        <span about="v-s:actor" property="rdfs:label"></span>:
        <strong rel="v-s:actor" data-template="v-ui:LabelTemplate"></strong>
      </span>
    </div>
    <div class="col-md-4 col-sm-6 event-desc">
      <div property="rdfs:label"></div>
      <div rel="v-s:documentVersion">
        <div>
            <span about="rdf:type" property="rdfs:label"></span>:
            <em about="@" data-template="v-ui:LabelLinkTemplate"></em>
        </div>
      </div>
      <div rel="v-wf:onProcess">
        <div>
          <span about="rdf:type" property="rdfs:label"></span>:
          <em about="@" data-template="v-ui:LabelLinkTemplate"></em>
          <a class="stop-process glyphicon glyphicon-remove" style="display:none"></a>
        </div>
      </div>
    </div>
    <div class="col-md-2 col-sm-3 event-date text-right">
      <span property="v-s:created"></span>
    </div>
  </div>
  <div rel="v-s:processJournal" data-template="v-ui:SubJournalTemplate"></div>
</div>
<script>
  if (!individual.hasValue("v-wf:initiator")) $("#initiator", template).remove();
  if (individual.hasValue("v-s:actor") && individual['v-s:actor'][0].id == 'cfg:VedaSystem') {
    template.hide();
  }
  $("#exp", template).click(function (e) {
    e.preventDefault();
    $("div[rel='v-s:processJournal']", template).toggle();
    $(this).children(":first").toggleClass("glyphicon-chevron-down glyphicon-chevron-right");
  });

  if (individual.hasValue("rdf:type") && individual["rdf:type"][0].id == 'v-s:ProcessStarted') {
    $(".start-process", template).show();
    $(".non-start-process", template).hide();
    var process = individual['v-wf:onProcess'][0];
    if ((!process.hasValue("v-wf:isStopped") || process["v-wf:isStopped"][0] == false) &&
        (!process.hasValue("v-wf:isCompleted") || process["v-wf:isCompleted"][0] == false)) {
      $(".stop-process", template).show();
      $(".stop-process", template).on("click", function() {
        if (confirm((new veda.IndividualModel("v-s:AreYouSure"))["rdfs:label"])) {
          process['v-wf:isStopped'] = [ true ];
          process.save();
        }
      });
    }
    if (process.hasValue("v-wf:isStopped") && process["v-wf:isStopped"][0] == true) {
      $(".start-process", template).addClass('text-danger');
      $(".start-process", template).css('text-decoration','line-through');
      $(".start-process", template).trigger("click");
    }
  }
  if (individual.hasValue("rdf:type") && individual["rdf:type"][0].id == 'v-wf:ProcessStopped') {
    $(".row", template).addClass('text-danger');
    //$(".row", template).each(function(e) { $(e); });
  }
  //# sourceURL=v-ui:DocumentEventTemplate
</script>
  """ ;
.

v-ui:PermissionStatementTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса записи выдачи прав"@ru ;
  rdfs:label "Document event template"@en ;
  v-ui:forClass v-s:PermissionStatement ;
  v-ui:template """
  <div>
  <div class="row right-header" style="display:none">
    <div class="col-md-1">
      <span about="v-s:canCreate" property="rdfs:label"></span>
    </div>
    <div class="col-md-1">
      <span about="v-s:canRead" property="rdfs:label"></span>
    </div>
    <div class="col-md-1">
      <span about="v-s:canUpdate" property="rdfs:label"></span>
    </div>
    <div class="col-md-1">
      <span about="v-s:canDelete" property="rdfs:label"></span>
    </div>
    <div class="col-md-3">
      <span about="v-s:permissionObject" property="rdfs:label"></span>
    </div>
    <div class="col-md-3">
      <span about="v-s:permissionSubject" property="rdfs:label"></span>
    </div>
    <div class="col-md-1">
      <span about="v-s:startTime" property="rdfs:label"></span>
    </div>
    <div class="col-md-1">
      <span about="v-s:endTime" property="rdfs:label"></span>
    </div>
  </div>
  <hr/>
  <div class="row">
    <div class="col-md-1">
      <span about="@" property="v-s:canCreate"></span>
    </div>
    <div class="col-md-1">
      <span about="@" property="v-s:canRead"></span>
    </div>
    <div class="col-md-1">
      <span about="@" property="v-s:canUpdate"></span>
    </div>
    <div class="col-md-1">
      <span about="@" property="v-s:canDelete"></span>
    </div>
    <div class="col-md-3">
      <span rel="v-s:permissionObject" data-template="v-ui:LabelLinkTemplate"></span>
    </div>
    <div class="col-md-3">
      <span rel="v-s:permissionSubject" data-template="v-ui:LabelLinkTemplate"></span>
    </div>
    <div class="col-md-1">
      <span about="@" property="v-s:startTime"></span>
    </div>
    <div class="col-md-1">
      <span about="@" property="v-s:endTime"></span>
    </div>
  </div>
  </div>
  <script>
    if (!individual.hasValue("v-s:permissionObject") && !individual.hasValue("v-s:permissionSubject")) $(".right-header", template).show();
    //# sourceURL=v-ui:PermissionStatementTemplate
  </script>
  """ ;
.

v-ui:TreeTemplate
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для древовоидных структур"@ru ;
  rdfs:label "Template for tree-like structures"@en ;
  v-ui:template """
<div class="table-responsive">
  <table class="table table-condensed table-striped">
    <thead id="thead"></thead>
    <tbody id="tbody"></tbody>
  </table>
</div>
<script>
  var tbody = $("#tbody", template),
    thead = $("#thead", template),
    headTmpl = "<th width='1px'><input type='checkbox' id='select-col' /></th>";
    rowTmpl = "<td><input type='checkbox' class='select-row' /></td>",
    literals = ["rdfs:Literal", "xsd:string", "xsd:boolean", "xsd:integer", "xsd:nonNegativeInteger", "xsd:decimal", "xsd:dateTime"],
    allowedClassIds = individual.treeConfig.allowedClass ? individual.treeConfig.allowedClass.reduce(function (acc, _class) {
      acc.push( _class.id );
      return acc;
    }, []) : [],
    selectableClassIds = individual.treeConfig.selectableClass ? individual.treeConfig.selectableClass.reduce(function (acc, _class) {
      acc.push( _class.id );
      return acc;
    }, []) : [],
    selectableFilter = individual.treeConfig.selectableFilter ? new Function( individual.treeConfig.selectableFilter[0].toString() ) : undefined;

  container.data("selected", []);

  individual.treeConfig.displayedProperty.map( function (property, index) {
    headTmpl += "<th>" + property["rdfs:label"].join(", ") + "</th>";
    var isLiteral = (literals.indexOf(property["rdfs:range"][0].id) >= 0);
    if ( index === 0 ) {
      if (isLiteral) {
        rowTmpl += "<td><div class='spacer'></div><a class='expand glyphicon glyphicon-chevron-right'></a> <span about='@' property='" + property.id + "'></span></td>";
      } else {
        rowTmpl += "<td><div class='spacer'></div><a class='expand glyphicon glyphicon-chevron-right'></a> <span about='@' rel='" + property.id + "' data-template='v-ui:LabelTemplate'></span></td>";
      }
      return;
    } else {
      if ( isLiteral ) {
        rowTmpl += "<td about='@' property='" + property.id + "'></td>";
      } else {
        rowTmpl += "<td about='@' rel='" + property.id + "' data-template='v-ui:LabelTemplate'></td>";
      }
    }
  });
  headTmpl = "<tr>" + headTmpl + "</tr>";
  thead.html(headTmpl);
  individual.treeConfig.rowTmpl = rowTmpl;

  template.on("click", "a.expand", function () {
    var that = $(this),
      thatRow = that.parents("tr"),
      thatLvl = parseInt( thatRow.attr("data-level") ),
      uri = thatRow.attr("resource"),
      self = new veda.IndividualModel(uri);

    that.toggleClass("expanded glyphicon-chevron-right glyphicon-chevron-down");

    if ( that.hasClass("expanded") ) {
      var nextLvl = parseInt( thatRow.next().attr("data-level") );
      if ( nextLvl > thatLvl ) {
        thatRow.nextUntil("[data-level=" + thatLvl + "]").show();
      } else {
        getOut(self).map(render);
        getIn(self).map(render);
        var newNextLvl = parseInt(thatRow.next().attr("data-level"));
        if ( isNaN(newNextLvl) || newNextLvl <= thatLvl ) {
          that.prev().css("width", 16 * (thatLvl + 1) - 2);
          that.remove();
        }
      }
    } else {
      thatRow.nextAll().each( function () {
        var that = $(this),
          lvl = parseInt( that.attr("data-level") );
        if ( isNaN(lvl) || lvl <= thatLvl) return false;
        that.hide();
      });
    }

    function render(item) {
      var cont = $("<div>"),
        tmpl = $("<tr>").attr("data-level", thatLvl + 1).append(rowTmpl);
      $(".spacer", tmpl).css({"width": 16 * (thatLvl + 1) + "px", "display": "inline-block"});
      item.present(cont, tmpl);
      if (selectableFilter) {
        if ( !selectableFilter.call(item) ) {
          $("input", tmpl).remove();
        }
      } else if (selectableClassIds.length && selectableClassIds.indexOf(item["rdf:type"][0].id) < 0) {
        $("input", tmpl).remove();
      }
      thatRow.after( cont.html() );
    }
    return false;
  });

  template.on("click", "th > input", function () {
    $("td > input:visible", tbody).click();
  });

  template.on("click", "td", function () {
    var row = $(this).parent();
    $("input", row).click();
  });

  template.on("click", "td > input", function (e) {
    var row = $(this).parents("tr"),
      uri = row.attr("resource"),
      selected = container.data("selected");
    if ( $(this).prop("checked") ) {
      selected.push(uri);
    } else {
      var index = selected.indexOf(uri);
      selected.splice(index, 1);
    }
    container.data("selected", selected);
    e.stopPropagation();
  });

  individual.treeConfig.root.map( function (root) {
    var tmpl = $("<tr>").attr("data-level", 0).append(rowTmpl);
    if (selectableFilter) {
      if ( !selectableFilter.call(root) ) {
        $("input", tmpl).remove();
      }
    } else if (selectableClassIds.length && selectableClassIds.indexOf(root["rdf:type"][0].id) < 0) {
      $("input", tmpl).remove();
    }
    root.present(tbody, tmpl);
  });
  template.one("remove", function () {
    delete individual[treeConfig];
  });

  function getOut(self) {
    var res = [];
    if (individual.treeConfig && individual.treeConfig.outProperty) {
      individual.treeConfig.outProperty.map(function (property) {
        if (self.hasValue(property.id)) {
          self[property.id].map(function (value) {
            if ( !allowedClassIds.length || allowedClassIds.indexOf(value["rdf:type"][0].id) > -1 ) {
              res.push(value);
            }
          });
        }
      });
    }
    return res;
  }

  function getIn(self) {
    var res = [];
    if (individual.treeConfig && individual.treeConfig.inProperty) {
      var query = individual.treeConfig.inProperty.map(function (property) {
          return "'" + property.id + "'=='" + self.id + "'";
        }).join(" || ");
      if (individual.treeConfig.allowedClass) {
        query = "(" + query + ") && (" + individual.treeConfig.allowedClass.map(function (_class) {
          return "'rdf:type'=='" + _class.id + "'";
        }).join(" || ") + ")";
      }
      var search = new veda.IndividualModel();
      search["rdf:type"] = [ new veda.IndividualModel("v-fs:FulltextRequest") ];
      search["v-fs:fulltextQuery"] = [ query ];
      search.search();
      search.result.map( function (uri) {
        res.push( new veda.IndividualModel(uri) );
      });
    }
    return res;
  }
  //# sourceURL=v-ui:TreeTemplate
</script>
  """ ;
.

td:PersonTemplate1
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон персоны"@ru ;
  rdfs:label "Person template"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:template """
<script>
  /*template.on("validate", validate);
  function validate() {
    var result = {
      "rdfs:label": {
        state: individual["rdfs:label"].reduce(
          function (acc, value) {
            return acc && (value.length > 5);
          }
        , true),
        cause: ["v-ui:minLength"]
      }
    }
    template.trigger("validated", result);
  }
  //# sourceURL=td:PersonTemplate1*/
</script>
<div class="container">
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="row">
        <div class="col-md-6">
          <span about="v-s:Person" property="rdfs:label">Персона</span>
        </div>
        <div class="col-md-6 text-right">
          <a href="#/@"><span property="@">ID</span></a>
          <a href="#/graph/@"><span class="glyphicon glyphicon-link"></span></a>
        </div>
      </div>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-md-2">
          <div rel="v-s:hasImage" data-template="v-ui:ImageTemplate"></div>
          <veda-control data-type="file" rel="v-s:hasImage" class="-view edit -search"></veda-control>
        </div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-md-12">
              <h3>
                <span property="rdfs:label"></span>
                <veda-control property="rdfs:label" data-type="string" class="-view edit search"></veda-control>
              </h3>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <em about="v-s:lastName" property="rdfs:label">Фамилия</em>
              <div property="v-s:lastName"></div>
              <veda-control property="v-s:lastName" data-type="string" class="-view edit search"></veda-control>
            </div>
            <div class="col-md-3">
              <em about="v-s:firstName" property="rdfs:label">Имя</em>
              <div property="v-s:firstName"></div>
              <veda-control property="v-s:firstName" data-type="string" class="-view edit search"></veda-control>
            </div>
            <div class="col-md-3">
              <em about="v-s:middleName" property="rdfs:label">Отчество</em>
              <div property="v-s:middleName"></div>
              <veda-control property="v-s:middleName" data-type="string" class="-view edit search"></veda-control>
            </div>
              <div class="col-md-3">
              <em about="v-s:birthday" property="rdfs:label">День рождения</em>
              <div property="v-s:birthday"></div>
              <veda-control property="v-s:birthday" data-type="datetime" class="-view edit search"></veda-control>
            </div>
          </div>
        </div>
      </div>
      <hr />
      <div class="row">
        <div class="col-md-6">
          <div about="@" rel="v-s:hasAccount" data-template="td:AccountTemplate1"></div>
          <!--div rel="v-s:hasAccount" data-template="td:AccountTemplate1"></div>
          <veda-control rel="v-s:hasAccount" data-type="link" class="-view edit search fulltext dropdown create"></veda-control-->
        </div>
        <div class="col-md-6">
          <div about="@" rel="v-ui:hasPreferences" data-template="td:PreferencesTemplate1"></div>
          <!--div rel="v-ui:hasPreferences" data-template="td:PreferencesTemplate1" data-embedded="true"></div>
          <veda-control rel="v-ui:hasPreferences" data-type="link" class="-view edit search fulltext dropdown create"></veda-control-->
          <br />
          <div about="@" rel="v-s:hasAppointment" data-template="td:AppointmentTemplate1"></div>
          <veda-control rel="v-s:hasAppointment" data-type="link" class="-view edit search fulltext dropdown create"></veda-control-->
        </div>
      </div>
    </div>
    <div class="panel-footer">
      <!--button type="button" class="action btn btn-warning view edit -search" id="send" about="v-s:Send" property="rdfs:label" /-->
      <button type="button" class="action btn btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label" />
      <button type="button" class="action btn btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label" />
      <button type="button" class="action btn btn-default -view edit -search" id="draft" about="v-s:ToDraft" property="rdfs:label" />
      <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label" />
      <button type="button" class="action btn btn-default view -edit -search" id="journal" about="v-s:ViewJournal" property="rdfs:label" />
      <!--button type="button" class="action btn btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label"/-->
    </div>
  </div>
  <div about="@" data-template="v-ui:LinkTemplate" data-embedded="true"></div>
  <br>
  <div class="view -edit -search" about="@" data-template="v-s:CommentsTemplate"></div>
</div>

""" ;
.
td:PsHasAppointmentPerson
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация назначения для класса Персона"@ru ;
  rdfs:label "Appointment property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:hasAppointment ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Appointment')"^^xsd:string ;
.
td:AppointmentTemplate1
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон Назначения"@ru ;
  rdfs:label "Appointment template"@en ;
  v-ui:template """
  <div class="container-fluid">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-md-6">
          <span about="v-s:Appointment" property="rdfs:label">Имя класса</span>
          </div>
          <div class="col-md-6 text-right">
            <a href="#/@"><span property="@">ID</span></a>
        </div>
      </div>
      </div>
      <div class="panel-body">
        <h3 property="rdfs:label"></h3>
        <veda-control property="rdfs:label" data-type="string" class="-view edit search"></veda-control>
        <div class="row">
          <div class="col-md-6">
            <em about="v-s:employee" property="rdfs:label"></em>
            <div rel="v-s:employee" data-template="v-ui:LabelTemplate" class="view -edit search"></div>
            <veda-control rel="v-s:employee" data-type="link" class="-view edit search fullsearch fulltext full"></veda-control>
          </div>
          <div class="col-md-6">
            <em about="v-s:occupation" property="rdfs:label"></em>
            <div rel="v-s:occupation" data-template="v-ui:LabelTemplate" class="view -edit search"></div>
            <veda-control rel="v-s:occupation" data-type="link" class="-view edit search fullsearch fulltext"></veda-control>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <em about="v-s:parentUnit" property="rdfs:label"></em>
            <div rel="v-s:parentUnit" data-template="v-ui:LabelTemplate" class="view -edit search"></div>
            <veda-control rel="v-s:parentUnit" data-type="link" class="-view edit search fullsearch fulltext"></veda-control>
          </div>
        </div>
      </div>
      <!--div class="panel-footer">
        <button type="button" class="action btn btn-primary view -edit -search" id="edit" about="v-s:Edit" property="rdfs:label">Редактировать</button>
        <button type="button" class="action btn btn-success -view edit -search" id="save" about="v-s:Save" property="rdfs:label">Сохранить</button>
        <button type="button" class="action btn btn-default -view edit -search" id="cancel" about="v-s:Cancel" property="rdfs:label">Отмена</button>
        <button type="button" class="action btn btn-link view edit -search" id="delete" about="v-s:Delete" property="rdfs:label">Удалить</button>
      </div-->
    </div>
  </div>
  """ ;
.

td:AppointmentTemplate2
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон Назначения 2"@ru ;
  rdfs:label "Appointment template 2"@en ;
  v-ui:template """
  <div>
    <span rel="v-s:employee" data-template="v-ui:LabelTemplate">Работник</span>,
    <span rel="v-s:occupation" data-template="v-ui:LabelTemplate">Должность</span>
  </div>
  """ ;
.

td:AccountTemplate1
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон Учетной записи"@ru ;
  rdfs:label "Account template"@en ;
  v-ui:forClass v-s:Account ;
  v-ui:template """
  <div class="container-fluid">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-md-6">
          <span about="v-s:Account" property="rdfs:label">Имя класса</span>
          </div>
          <div class="col-md-6 text-right">
            <a href="#/@"><span property="@">ID</span></a>
        </div>
      </div>
      </div>
      <div class="panel-body">
        <h3 property="rdfs:label"></h3>
        <veda-control property="rdfs:label" data-type="string" class="-view edit search"></veda-control>
        <div class="row">
            <div class="col-md-12">
               <em about="v-s:owner" property="rdfs:label">Владелец</em>
               <div rel="v-s:owner" data-template="v-ui:LabelTemplate"></div>
               <veda-control rel="v-s:owner" data-type="link" class="-view edit search fullsearch fulltext"></veda-control>
            </div>
        </div>
        <br />
        <div class="row">
          <div class="col-md-6">
               <em about="v-s:mailbox" property="rdfs:label">E-mail</em>
               <div property="v-s:mailbox"></div>
               <veda-control property="v-s:mailbox" data-type="string" class="-view edit search"></veda-control>
          </div>
          <div class="col-md-6">
               <em about="v-s:login" property="rdfs:label">Логин</em>
               <div property="v-s:login"></div>
               <veda-control property="v-s:login" data-type="string" class="-view edit search"></veda-control>
        </div>
        </div>
      </div>
        <button type="button" class="action btn btn-success -view edit -search" id="save">Сохранить</button>
    </div>
  </div>
  """ ;
.

#td:PositionTemplate1
#  rdf:type v-ui:ClassTemplate ;
#  rdfs:label "Шаблон для класса Должность"@ru ;
#  rdfs:label "Template for Position class"@en ;
#  v-ui:forClass v-s:Position ;
#  v-ui:template """
#  <span property="rdfs:label">Должность</span>
#  """ ;
#.

td:PreferencesTemplate1
  rdf:type v-ui:ClassTemplate ;
  rdfs:label "Шаблон для класса Предпочтения"@ru ;
  rdfs:label "Template for Preferences class"@en ;
  v-ui:template """
<div class="container-fluid">
  <div class="panel panel-default">
    <div class="panel-heading">
    <div class="row">
      <div class="col-md-4">
      <span about="v-ui:Preferences" property="rdfs:label">Предпочтения</span>
      </div>
      <div class="col-md-8 text-right">
      <a href="#/@"><span property="@">ID</span></a>
      </div>
    </div>
    </div>
    <div class="panel-body">
    <div>
      <strong about="v-ui:preferredLanguage" property="rdfs:label">Язык</strong>:
      <ul>
      <li rel="v-ui:preferredLanguage" data-template="v-ui:LabelTemplate"></li>
      <!--li rel="v-ui:preferredLanguage">
        <span>
          <span property="rdfs:label"></span>
          <veda-control property="rdfs:label" data-type="string" class="-view edit search"></veda-control>
        </span>
      </li-->
      </ul>
      <veda-control rel="v-ui:preferredLanguage" data-type="link" class="-view edit search fulltext dropdown"></veda-control>
      <strong about="v-ui:displayedElements" property="rdfs:label">Отображать элементов</strong>:
      <span property="v-ui:displayedElements"></span>
      <veda-control property="v-ui:displayedElements" data-type="integer" class="-view edit search"></veda-control>
    </div>
    </div>
    <!--div class="panel-footer">
    <button type="button" class="action btn btn-primary view -edit -search" id="edit">Редактировать</button>
    <button type="button" class="action btn btn-success -view edit -search" id="save">Сохранить</button>
    <button type="button" class="action btn btn-default -view edit -search" id="cancel">Отмена</button>
    <button type="button" class="action btn btn-link view edit -search" id="delete">Удалить</button>
    </div-->
  </div>
</div>
  """ ;
.
td:PropertySpecification5
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация работника для класса Назначение"@ru ;
  rdfs:label "Employee property specification for Appointment class"@en ;
  v-ui:forClass v-s:Appointment ;
  v-ui:forProperty v-s:employee ;
  v-ui:minCardinality "0"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:treeRoot d:org_RU1121003135 ;
  v-ui:treeRoot d:org_RU1121003135 ;
  v-ui:treeInProperty v-s:parentUnit ;
  v-ui:treeDisplayedProperty rdfs:label ;
.
td:PropertySpecification6
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация работника для класса Назначение"@ru ;
  rdfs:label "Employee property specification for Appointment class"@en ;
  v-ui:forClass v-s:Appointment ;
  v-ui:forProperty v-s:occupation ;
  v-ui:minCardinality "0"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
td:PsParentUnitForAppointment
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация родительского подразделения для класса Назначение"@ru ;
  rdfs:label "ParentUnit property specification for Appointment class"@en ;
  v-ui:forClass v-s:Appointment ;
  v-ui:forProperty v-s:parentUnit ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Department')"^^xsd:string ;
  v-ui:minCardinality "0"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
.
td:PropertySpecification7
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация учетной записи для класса Персона"@ru ;
  rdfs:label "Account property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:hasAccount ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Ссылка на объект класса Учетная запись."@ru ;
  v-ui:tooltip "Required, single value. Link to instance of Account class"@en ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Account')"^^xsd:string ;
  v-ui:placeholder "Учетная запись"@ru ;
  v-ui:placeholder "Account"@en ;
.
td:PropertySpecification8
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация предпочтений для класса Персона"@ru ;
  rdfs:label "Preferences property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-ui:hasPreferences ;
#  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
#  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Ссылка на объект класса Предпочтения."@ru ;
  v-ui:tooltip "Required, single value. Link to instance of Preferences class"@en ;
  v-ui:queryPrefix "('rdf:type'=='v-ui:Preferences')"^^xsd:string ;
.
td:PropertySpecification10
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового свойства для класса Предпочтения"@ru ;
  rdfs:label "Test property specification for Preferences class"@en ;
  v-ui:forClass v-ui:Preferences ;
  v-ui:forProperty v-ui:displayedElements ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:tooltip "Обязательно к заполнению, единичное целочисленное значение."@ru ;
  v-ui:tooltip "Required, single integer value."@en ;
  v-ui:defaultValue "10"^^xsd:integer ;
.
td:PropertySpecification11
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация тестового свойства для класса Предпочтения"@ru ;
  rdfs:label "Test property specification for Preferences class"@en ;
  v-ui:forClass v-s:Account ;
  v-ui:forProperty v-s:login, v-s:password ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:tooltip "Обязательно к заполнению, единичное строковое значение."@ru ;
  v-ui:tooltip "Required, single string value."@en ;
.
td:PropertySpecification1
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация даты рождения для класса персона"@ru ;
  rdfs:label "Birthday property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:birthday ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Формат ввода: 2011-08-19"@ru ;
  v-ui:tooltip "Required, single value. Format: 2011-08-19"@en ;
  v-ui:placeholder "день рождения"@ru ;
  v-ui:placeholder "birthday"@en ;
.

td:PropertySpecification2
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация имени для класса персона"@ru ;
  rdfs:label "First name property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:firstName ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "2"^^xsd:nonNegativeInteger ;
  v-ui:minLength "2"^^xsd:integer ;
  v-ui:maxLength "20"^^xsd:integer ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Не менее 2 и не более 20 символов"@ru ;
  v-ui:tooltip "Required, single value. More than 2 and less than 20 characters"@en ;
  v-ui:placeholder "имя"@ru ;
  v-ui:placeholder "first name"@en ;
.
td:PropertySpecification3
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация фамилии для класса персона"@ru ;
  rdfs:label "Last name property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:lastName ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "2"^^xsd:nonNegativeInteger ;
  v-ui:minLength "2"^^xsd:integer ;
  v-ui:maxLength "20"^^xsd:integer ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Не менее 2 и не более 20 символов"@ru ;
  v-ui:tooltip "Required, single value. More than 2 and less than 20 characters"@en ;
  v-ui:placeholder "фамилия"@ru ;
  v-ui:placeholder "last name"@en ;
.
td:PropertySpecification4
  rdf:type v-ui:DatatypePropertySpecification ;
  rdfs:label "Спецификация отчества для класса персона"@ru ;
  rdfs:label "Middle name property specification for Person class"@en ;
  v-ui:forClass v-s:Person ;
  v-ui:forProperty v-s:middleName ;
  v-ui:minCardinality "1"^^xsd:nonNegativeInteger ;
  v-ui:maxCardinality "2"^^xsd:nonNegativeInteger ;
  v-ui:minLength "2"^^xsd:integer ;
  v-ui:maxLength "20"^^xsd:integer ;
  v-ui:tooltip "Обязательно к заполнению, единичное значение. Не менее 2 и не более 20 символов"@ru ;
  v-ui:tooltip "Required, single value. More than 2 and less than 20 characters"@en ;
  v-ui:placeholder "отчество"@ru ;
  v-ui:placeholder "middle name"@en ;
.

