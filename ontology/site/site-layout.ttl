@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix v-l: <http://semantic-machines.com/veda/veda-layout/> .
@prefix v-fc: <http://semantic-machines.com/veda/veda-function-create/> .
@prefix v-fs: <http://semantic-machines.com/veda/veda-function-search/> .
@prefix v-ft: <http://semantic-machines.com/veda/veda-function-tasks/> .
@prefix d: <http://semantic-machines.com/veda/veda-data/> .
@prefix cfg: <http://semantic-machines.com/veda/config/> .
@prefix mnd-s-asppd: <http://semantic-machines.com/veda/mondi-schema-asppd/> .
@prefix mnd-s: <http://semantic-machines.com/veda/mondi-schema/> .

@prefix s-l: <http://semantic-machines.com/veda/site-layout/> .
<http://semantic-machines.com/veda/mondi-layout>
	rdf:type owl:Ontology ;
	rdfs:label "Mondi layout ontology"@en ;
	rdfs:label "Онтология разметки Монди"@ru ;
	#owl:versionInfo "0.2" ;
	v-s:loadPriority 10 ;
.

v-s:site-layout
    rdf:type v-s:TTLFile ;
    rdfs:label "Mondi layout ontology"@en ;
    rdfs:label "Онтология разметки Монди"@ru ;
    v-s:loadPriority 10 ;
.

### MAIN PAGE ###

s-l:MainPage
	rdf:type owl:Class ;
	rdfs:subClassOf owl:Thing ;
	rdfs:label "Main page"@en ;
	rdfs:label "Главная страница"@ru ;
.
s-l:MainPageTemplate
	rdf:type v-ui:ClassTemplate ;
	rdfs:label "Шаблон для класса Главная страница"@ru ;
	rdfs:label "Template for Main page class"@en ;
	v-ui:forClass s-l:MainPage ;
	v-ui:template """
<div class="page">
	<nav role="navigation" class="navbar">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="btn btn-default navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
					<span class="glyphicon glyphicon-menu-hamburger"></span>
				</button>
				<a class="navbar-brand" href="#/">
					Смысловые машины
					<!--img src="/img/veda-logo.png"-->
				</a>
			</div>
			<div class="collapse navbar-collapse" id="navbar-collapse">
				<div id="user-appointment" class="navbar-form navbar-right"></div>
			</div>
		</div>
	</nav>

	<div id="main"></div>

	<nav style="min-height:12px;" class="navbar navbar-fixed-bottom" id="copyright">
		<footer>
			<div class="container-fluid clearfix" style="background-color: white; border-top: 1px solid lightgray">
				<div class="pull-left">
					<a href="http://www.semantic-machines.com">© <span about="v-l:SemanticMachines" property="rdfs:label"></span>.</a>
					<span about="v-l:License" property="rdfs:label"></span>
					<a alt="GNU General Public License version 3 official text" href="http://www.gnu.org/licenses/gpl.html">GPLv3.</a>
				</div>
				<div class="pull-right text-muted" about="v-s:vedaInfo">
					<span><span property="v-s:appBuildVersion"></span>/ <span property="v-s:appBuildDate"></span></span>
				</div>
			</div>
		</footer>
	</nav>
</div>
<script>
</script>
  """ ;
.

### WELCOME ###

s-l:WelcomeAspect
	rdf:type owl:Class ;
	rdfs:subClassOf v-s:Aspect ;
	rdfs:label "Mondi welcome aspect"@en ;
	rdfs:label "Приветственный аспект Монди"@ru ;
.
s-l:WelcomeAspectTemplate
	rdf:type v-ui:ClassTemplate ;
	rdfs:label "Шаблон для класса Приветственный аспект Монди"@ru ;
	rdfs:label "Template for Mondi Welcome aspect class"@en ;
	v-ui:forClass s-l:WelcomeAspect ;
	v-ui:template """
<div>
	<style>
	</style>
	<div id="aspect-slider" class="carousel slide" data-ride="carousel" data-interval="false" style="margin-top:-15px">
		<!-- Indicators -->
		<ol class="carousel-indicators" about="@" rel="v-s:hasBusinessAspect">
			<li data-target="#aspect-slider" about="@" property="v-s:shortLabel"></li>
		</ol>
		<div class="carousel-inner" role="listbox" about="@" rel="v-s:hasBusinessAspect">
			<div class="item">
				<div about="@" rel="v-s:hasImage" template="v-ui:ImageSimpleTemplateWithoutBorder"></div>
				<div class="carousel-caption">
					<h1 property="rdfs:label"></h1>
					<p property="rdfs:comment"></p>
				</div>
			</div>
		</div>
		<!-- Controls -->
		<a class="left carousel-control" href="#aspect-slider" role="button" data-slide="prev">
			<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="right carousel-control" href="#aspect-slider" role="button" data-slide="next">
			<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>
	<br>
	<br>
	<div id="aspect-container"></div>
</div>
<script>
	var slider = $("#aspect-slider", template),
		cntr = $("#aspect-container", template),
		slideTo = individual.slideTo || 0,
		slide = $("#aspect-slider .item", template).eq(slideTo).addClass("active"),
		uri = slide.attr("resource"),
		aspect = (new veda.IndividualModel(uri)).present(cntr);
	$(".carousel-indicators > li", template).each(function (index) {
		var $this = $(this);
		$this.attr("data-slide-to", index);
		if (index === slideTo) {
			$this.addClass("active");
		}
	});
	$(".carousel-inner > .item", template).each(function (index) {
		$(this).attr("data-index", index);
	});
	slider.on("slide.bs.carousel", function (e) {
		cntr.empty().hide();
	});
	slider.on("slid.bs.carousel", function (e) {
		var uri = $(e.relatedTarget).attr("resource");
		var aspect = new veda.IndividualModel(uri);
		aspect.present(cntr);
		cntr.show(250);
		var slideTo = $(e.relatedTarget).data("index");
		individual.slideTo = slideTo;
	});
	$("body").css("overflow-y", "scroll");
	template.on("remove", function () {
		$("body").css("overflow-y", "auto");
	});
</script>
  """ ;
.

### STRINGS ###

s-l:WelcomeToOptiflow
	rdf:type v-s:Bundle ;
	rdfs:label "Добро пожаловать в Optiflow!"@ru ;
	rdfs:label "Welcome to Optiflow!"@en ;
.
s-l:AspectDescription
	rdf:type v-s:Bundle ;
	rdfs:label """Для начала работы выберите доступный аспект системы.
В настоящий момент доступен аспект управления инновационными идеями, который содержит настроенные бланки документов, реестры и аналитические отчеты."""@ru ;
rdfs:label """To start using the system please choose an aspect.
The only available aspect at the moment is innovation idea management aspect. It provides document blanks, registries and reports."""@en ;
.
s-l:AvailableAspects
	rdf:type v-s:Bundle ;
	rdfs:label "Доступные аспекты"@ru ;
	rdfs:label "Available aspects"@en ;
.

### INDIVIDUALS ###

s-l:Main
	rdf:type s-l:MainPage ;
	rdfs:label "Main page"@en ;
	rdfs:label "Главная страница"@ru ;
.
s-l:Welcome
	rdf:type s-l:WelcomeAspect ;
	rdfs:label "Welcome"@en ;
	rdfs:label "Добро пожаловать"@ru ;
	v-s:hasBusinessAspect mnd-s:InnovationsManagementAspect1 ;
	v-s:hasBusinessAspect mnd-s:ProjectsManagementAspect1 ;
	v-s:hasBusinessAspect mnd-s:ContractsManagementAspect1 ;
	v-s:hasBusinessAspect mnd-s:ActivitiesManagementAspect1 ;
.
s-l:Logo
	a v-s:File;
	v-s:fileUri "mondi-logo.png"^^xsd:string ;
	v-s:fileName "mondi-logo.png"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:OptiflowLogo
	a v-s:File;
	v-s:fileUri "optiflow-logo.png"^^xsd:string ;
	v-s:fileName "optiflow-logo.png"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:OptiflowLogoOrange
	a v-s:File;
	v-s:fileUri "optiflow-logo-orange.png"^^xsd:string ;
	v-s:fileName "optiflow-logo-orange.png"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:WhiteflowGreen
	a v-s:File;
	v-s:fileUri "whiteflow-green.png"^^xsd:string ;
	v-s:fileName "whiteflow-green.png"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:WhiteflowOrange
	a v-s:File;
	v-s:fileUri "whiteflow-orange.png"^^xsd:string ;
	v-s:fileName "whiteflow-orange.png"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:WhiteflowGray
	a v-s:File;
	v-s:fileUri "whiteflow-gray.png"^^xsd:string ;
	v-s:fileName "whiteflow-gray.png"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:WelcomeBackground
	a v-s:File;
	v-s:fileUri "welcome-background.jpg"^^xsd:string ;
	v-s:fileName "welcome-background.jpg"^^xsd:string;
	v-s:filePath "/mondi"^^xsd:string ;
.
s-l:MainMenu
	rdf:type v-l:Menu ;
	rdfs:label "Main menu"@en ;
	rdfs:label "Главное меню"@ru ;
	v-l:menuItem s-l:Inbox ;
	v-l:menuItem s-l:Outbox ;
	v-l:menuItem s-l:Completed ;
#	v-l:menuItem v-l:Divider ;
#	v-l:menuItem s-l:Create ;
#	v-l:menuItem s-l:Find ;
#	v-l:menuItem v-l:Divider ;
#	v-l:menuItem s-l:Search ;
#	v-l:menuItem v-l:Divider ;
#	v-l:menuItem s-l:Graph ;
#	v-l:menuItem s-l:Console ;
#	v-l:menuItem s-l:Tests ;
	v-l:menuItem v-l:Divider ;
	v-l:menuItem s-l:Clear ;
	v-l:menuItem v-l:Divider ;
	v-l:menuItem s-l:Exit ;
.
s-l:Inbox
	rdf:type v-l:Menu ;
	rdfs:label "Inbox"@en ;
	rdfs:label "Входящие"@ru ;
	v-l:objectLink v-ft:Inbox ;
.
s-l:Outbox
	rdf:type v-l:Menu ;
	rdfs:label "Outbox"@en ;
	rdfs:label "Исходящие"@ru ;
	v-l:objectLink v-ft:Outbox ;
.
s-l:Completed
	rdf:type v-l:Menu ;
	rdfs:label "Completed"@en ;
	rdfs:label "Выполненные"@ru ;
	v-l:objectLink v-ft:Completed ;
.
s-l:Create
	rdf:type v-l:Menu ;
	rdfs:label "Create"@en ;
	rdfs:label "Создать"@ru ;
	v-l:objectLink v-fc:Create ;
.
s-l:Find
	rdf:type v-l:Menu ;
	rdfs:label "Find"@en ;
	rdfs:label "Найти"@ru ;
	v-l:objectLink v-fs:Search ;
.
s-l:Search
	rdf:type v-l:Menu ;
	rdfs:label "Search"@en ;
	rdfs:label "Поиск"@ru ;
	v-l:staticLink "#/search"^^xsd:string ;
.
s-l:Graph
	rdf:type v-l:Menu ;
	rdfs:label "Graph"@en ;
	rdfs:label "Граф"@ru ;
	v-l:staticLink "#/graph"^^xsd:string ;
.
s-l:Console
	rdf:type v-l:Menu ;
	rdfs:label "Console"@en ;
	rdfs:label "Консоль"@ru ;
	v-l:staticLink "#/console"^^xsd:string ;
.
s-l:Tests
	rdf:type v-l:Menu ;
	rdfs:label "Tests"@en ;
	rdfs:label "Тесты"@ru ;
	v-l:staticLink "/tests"^^xsd:string ;
.
s-l:Clear
	rdf:type v-l:Menu ;
	rdfs:label "Clear data"@en ;
	rdfs:label "Очистить данные"@ru ;
	v-l:staticLink "#"^^xsd:string ;
	v-l:action """
localStorage.clear();
location.reload();
	"""
.
s-l:Exit
	rdf:type v-l:Menu ;
	rdfs:label "Exit"@en ;
	rdfs:label "Выйти"@ru ;
	v-l:staticLink "#"^^xsd:string ;
	v-l:action """
veda.logout();
	"""
.
